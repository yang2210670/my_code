{"version":3,"sources":["config.js","actions/index.js","untils/index.js","component/Navbar.js","component/Snackbar.js","reducers/index.js","component/SearchBar.js","component/StorageBar.js","component/UserAvatar.js","component/UserInfo.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Uploader.js"],"names":["__webpack_require__","d","__webpack_exports__","imgPreviewSuffix","editSuffix","mediaType","isPreviewable","isTorrent","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","directOpenPreviewSuffix","audio","video","image","pdf","word","ppt","excel","text","torrent","zip","excute","android","name","suffix","split","pop","toLowerCase","indexOf","navitateTo","navitateUp","drawerToggleAction","changeViewMethod","changeSortMethod","updateFileList","changeContextMenu","addSelectedTarget","setSelectedTarget","removeSelectedTarget","setNavigatorLoadingStatus","setNavigatorError","openCreateFolderDialog","openRenameDialog","openMoveDialog","openRemoveDialog","openShareDialog","openMusicDialog","openRemoteDownloadDialog","openTorrentDownloadDialog","openGetSourceDialog","closeAllModals","toggleSnackbar","setModalsLoading","refreshFileList","searchMyFile","showImgPreivew","refreshStorage","saveFile","path","type","open","method","list","menuType","targets","id","status","msg","vertical","horizontal","color","keywords","first","sizeToString","setCookie","setGetParameter","allowSharePreview","checkGetParameters","changeThemeColor","bytes","i","Math","floor","log","pow","toFixed","value","days","date","Date","setTime","getTime","document","cookie","paramName","paramValue","url","window","location","href","hash","replace","prefix","substring","history","pushState","isSharePage","shareInfo","allowPreview","userInfo","uid","field","querySelector","setAttribute","NavbarCompoment","props","_this","Object","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentDidMount","selected","length","isMultiple","withFile","theme","palette","primary","main","background","default","componentWillReceiveProps","nextProps","handleDrawerToggle","setState","state","mobileOpen","clickUpload","queued","UploaderRef","current","getWrappedInstance","openFileList","updateQueueStatus","filterFile","openPreview","previewPath","apiURL","docPreiview","encodeURIComponent","preview","shareId","openDownload","downloadPath","download","React","createRef","_this2","isHomePage","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_Uploader_js__WEBPACK_IMPORTED_MODULE_47__","queueChange","ref","_classNames","_classNames2","_this3","classes","drawer","isMobile","_UserInfo__WEBPACK_IMPORTED_MODULE_51__","className","addButton","_material_ui_core_Badge__WEBPACK_IMPORTED_MODULE_41___default","badgeContent","badge","badgeFix","invisible","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_26___default","disabled","variant","size","onClick","fabButton","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_16___default","extendedIcon","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_33___default","button","key","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_34___default","_material_ui_icons_FolderShared__WEBPACK_IMPORTED_MODULE_37___default","iconFix","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_35___default","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_39___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_32___default","hiddenButton","_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_36___default","_material_ui_icons_VideoLibrary__WEBPACK_IMPORTED_MODULE_13___default","iconVideo","_material_ui_icons_Collections__WEBPACK_IMPORTED_MODULE_15___default","iconImg","_material_ui_icons_LibraryMusic__WEBPACK_IMPORTED_MODULE_14___default","iconAudio","_material_ui_icons_FileCopy__WEBPACK_IMPORTED_MODULE_17___default","iconDoc","dividerFix","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_18___default","inset","_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_21___default","_StorageBar__WEBPACK_IMPORTED_MODULE_49__","mdi_material_ui__WEBPACK_IMPORTED_MODULE_52__","stickFooter","shareInfoContainer","ownerUid","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_31___default","src","shareAvatar","ownerInfo","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_9___default","noWrap","ownerNick","shareDate","iOS","process","browser","test","navigator","userAgent","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_7___default","position","appBar","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_29___default","aria-label","menuButton","_material_ui_icons_Menu__WEBPACK_IMPORTED_MODULE_40___default","handleDesktopToggle","desktopOpen","menuButtonDesktop","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_42___default","in","menuIcon","_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_19___default","pageId","folderShareIcon","siteInfo","mainTitle","_SearchBar__WEBPACK_IMPORTED_MODULE_48__","grow","sectionForFile","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_43___default","title","_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_38___default","_material_ui_icons_OpenInNew__WEBPACK_IMPORTED_MODULE_20___default","withFolder","_material_ui_icons_FolderOpen__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_icons_BorderColor__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_icons_Input__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_25___default","_UserAvatar__WEBPACK_IMPORTED_MODULE_50__","loadUploader","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_30___default","smUp","implementation","_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_28___default","container","paper","drawerPaper","anchor","onClose","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","_material_ui_core_Drawer__WEBPACK_IMPORTED_MODULE_27___default","classNames","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","drawerOpen","drawerClose","toolbar","Component","Navbar","connect","viewUpdate","explorer","selectProps","dispatch","withTheme","withStyles","_appBar","marginLeft","breakpoints","down","zIndex","width","flexShrink","drawerDesktop","icon","marginRight","spacing","unit","up","display","mixins","transition","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","overflowX","content","flexGrow","padding","top","right","nested","paddingLeft","marginTop","marginBottom","borderRadius","verticalAlign","textDecoration","height","bottom","backgroundColor","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","green","dark","amber","fontSize","iconVariant","opacity","message","alignItems","other","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","Icon","_material_ui_core_SnackbarContent__WEBPACK_IMPORTED_MODULE_11___default","assign","aria-describedby","action","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_19___default","close","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default","SnackbarCompoment","snackbar","toggle","handleClose","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_12___default","anchorOrigin","autoHideDuration","AlertBar","margin","checkSelectedProps","map","doNavigate","contextOpen","navigatorError","navigatorLoading","cloudreveApp","arguments","undefined","explorerViewMethod","sortMethod","contextType","navigatorErrorMsg","sort","b","localeCompare","parse","dirList","filter","x","fileList","newState","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","selectedProps","oldSelected","splice","pathSplit","newPath","join","modals","createNewFolder","rename","remove","move","share","music","remoteDownload","torrentDownload","getSource","modalsLoading","refresh","imgPreview","storageRefresh","fileSave","SearchBarCompoment","anchorEl","input","handleChange","event","currentTarget","target","cancelSuggest","searchShare","search","searchIcon","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","placeholder","root","inputRoot","inputInput","onChange","onBlur","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_11___default","suggestBox","_ref","TransitionProps","_material_ui_core_Fade__WEBPACK_IMPORTED_MODULE_12___default","timeout","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_13___default","square","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_icons_InsertDriveFile__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_19___default","SearchBar","_search","shape","fade","common","white","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","&:focus","StorageBarCompoment","percent","used","total","firstLoad","updateStatus","axios","get","then","response","data","rate","catch","react__WEBPACK_IMPORTED_MODULE_5___default","storageContainer","_material_ui_icons_Storage__WEBPACK_IMPORTED_MODULE_10___default","detail","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","bar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_13___default","placement","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_9___default","StorageBar","secondary","textFix","UserAvatarCompoment","showUserInfo","e","openURL","mobileHidden","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_Settings__WEBPACK_IMPORTED_MODULE_13___default","mdi_material_ui__WEBPACK_IMPORTED_MODULE_19__","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_10___default","avatar","_material_ui_core_Popover__WEBPACK_IMPORTED_MODULE_12___default","transformOrigin","visitorMenu","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_16___default","header","largeAvatarContainer","largeAvatar","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","nick","email","_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_15___default","groupId","label","group","UserAvatar","UserInfoCompoment","userNav","flexAvatar","alt","avatarImg","storageCircle","nickName","component","groupName","UserInfo","backgroundImage","light","backgroundSize","border","overflow","boxShadow","isFunction","val","noop","_","newScript","cb","scriptElem","prototype","hasOwnProperty","addEventListener","body","appendChild","series","_len3","tasks","Array","_key3","each","thunk","nextKey","cols","keys","next","keyIterator","nextThunk","isArray","_len","_key","hasError","successed","ret","forEach","task","err","_len2","args","_key2","apply","iterator","_len4","_key4","push","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","scriptLoader","scripts","WrappedComponent","ScriptLoader","_Component","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","isScriptLoaded","isScriptLoadSucceed","_isMounted","inherits","createClass","onComplete","loadNewScript","taskComplete","callbacks","toConsumableArray","startLoadingScripts","onScriptLoaded","refs","wrappedInstance","objectSpread","react_default","defaultProps","hoistStatics","FileList","files","cancelUpload","file","deQueue","addNewFile","getElementsByClassName","click","filesNow","findIndex","console","fileID","f","errMsg","Slide_default","direction","fileIcon","inRef","bind","enQueue","setComplete","setError","listContent","item","progressItem","queueIcon","MusicNote_default","Videocam_default","InsertDriveFile_default","ListItemText_default","successStatus","plupload","formatSize","speed","toUpperCase","loaded","LinearProgress_default","progressBar","errorStatus","ListItem_default","Avatar_default","ListItemSecondaryAction_default","IconButton_default","Delete_default","Divider_default","Dialog_default","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar_default","Toolbar_default","Close_default","Typography_default","flex","AddCircleOutline_default","DialogContent_default","dialogContent","List_default","minHight","defineProperty","minWidth","withWidth","UploaderCompoment","uploader","removeFile","nextState","Qiniu","runtimes","browse_button","drop_element","max_file_size","uploadConfig","maxSize","dragdrop","chunk_size","ChunkSize","filters","mime_types","allowedType","multi_selection","moxie","core","utils","Env","OS","uptoken_url","domain","get_new_uptoken","auto_start","log_level","init","FilesAdded","_ref2","pathCache","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","FileUploaded","Error","errTip","FilesRemoved","onError","_this$props","Upload_FileList","setRef","Uploader","forwardRef"],"mappings":"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","file":"static/js/2.chunk.js","sourcesContent":["export const imgPreviewSuffix = [\"bmp\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"svg\",\"webp\"];\nexport const msDocPreviewSuffix = [\"ppt\",\"pptx\",\"pps\",\"doc\",\"docx\",\"xlsx\",\"xls\"];\nexport const audioPreviewSuffix = [\"mp3\",\"ogg\"];\nexport const videoPreviewSuffix = [\"mp4\"];\nexport const directOpenPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\",\"html\",\"sql\",\"go\",\"py\",\"js\",\"json\",\"c\",\"cpp\",\"css\",\"txt\"];\nexport const mediaType = {\n    audio:[\"mp3\",\"flac\",\"ape\",\"wav\",\"acc\",\"ogg\"],\n    video:[\"mp4\",\"flv\",\"avi\",\"wmv\",\"mkv\",\"rm\",\"rmvb\",\"mov\",\"ogv\"],\n    image:[\"bmp\",\"iff\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"psd\",\"svg\",\"webp\"],\n    pdf:[\"pdf\"],\n    word:[\"doc\",\"docx\"],\n    ppt:[\"ppt\",\"pptx\"],\n    excel:[\"xls\",\"xlsx\",\"csv\"],\n    text:[\"txt\",\"md\",\"html\"],\n    torrent:[\"torrent\"],\n    zip:[\"zip\",\"gz\",\"tar\",\"rar\",\"7z\"],\n    excute:[\"exe\"],\n    android:[\"apk\"],\n};\nexport const isPreviewable = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(imgPreviewSuffix.indexOf(suffix)!==-1){\n        return \"img\";\n    }else if(msDocPreviewSuffix.indexOf(suffix)!==-1){\n        return \"msDoc\";\n    }else if(audioPreviewSuffix.indexOf(suffix)!==-1){\n        return \"audio\";\n    }else if(directOpenPreviewSuffix.indexOf(suffix)!==-1){\n        return \"open\";\n    }else if(videoPreviewSuffix.indexOf(suffix)!==-1){\n        return \"video\";\n    }else if(editSuffix.indexOf(suffix)!==-1){\n        return \"edit\";\n    }\n    return false;\n}\nexport const isTorrent = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(mediaType.torrent.indexOf(suffix)!==-1){\n        return true;\n    }\n    return false;\n}\n","export const navitateTo = path => {\n    return {\n        type: 'NAVIGATOR_TO',\n        path:path,\n    }\n}\n\nexport const navitateUp = () => {\n    return {\n        type: 'NAVIGATOR_UP',\n    }\n}\n\nexport const drawerToggleAction = open => {\n    return {\n        type: 'DRAWER_TOGGLE',\n        open:open,\n    }\n}\n\nexport const changeViewMethod = method => {\n    return {\n        type: 'CHANGE_VIEW_METHOD',\n        method:method,\n    }\n}\n\nexport const changeSortMethod = method => {\n    return {\n        type: 'CHANGE_SORT_METHOD',\n        method:method,\n    }\n}\n\nexport const updateFileList = list => {\n    return {\n        type: 'UPDATE_FILE_LIST',\n        list:list,\n    }\n}\n\nexport const changeContextMenu = (type,open) => {\n    return {\n        type: 'CHANGE_CONTEXT_MENU',\n        menuType:type,\n        open:open,\n    }\n}\n\nexport const addSelectedTarget = targets => {\n    return {\n        type: 'ADD_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const setSelectedTarget = targets => {\n    return {\n        type: 'SET_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const removeSelectedTarget = id => {\n    return {\n        type: 'RMOVE_SELECTED_TARGET',\n        id:id,\n    }\n}\n\nexport const setNavigatorLoadingStatus = status => {\n    return {\n        type: 'SET_NAVIGATOR_LOADING_STATUE',\n        status:status,\n    }\n}\n\nexport const setNavigatorError = (status,msg) => {\n    return {\n        type: 'SET_NAVIGATOR_ERROR',\n        status:status,\n        msg:msg,\n    }\n}\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: 'OPEN_CREATE_FOLDER_DIALOG',\n    }\n}\n\nexport const openRenameDialog = () => {\n    return {\n        type: 'OPEN_RENAME_DIALOG',\n    }\n}\n\nexport const openMoveDialog = () => {\n    return {\n        type: 'OPEN_MOVE_DIALOG',\n    }\n}\n\nexport const openRemoveDialog = () => {\n    return {\n        type: 'OPEN_REMOVE_DIALOG',\n    }\n}\n\nexport const openShareDialog = () => {\n    return {\n        type: 'OPEN_SHARE_DIALOG',\n    }\n}\n\nexport const openMusicDialog = () => {\n    return {\n        type: 'OPEN_MUSIC_DIALOG',\n    }\n}\n\nexport const openRemoteDownloadDialog = ()=>{\n    return {\n        type:'OPEN_REMOTE_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openTorrentDownloadDialog = ()=>{\n    return {\n        type:'OPEN_TORRENT_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openGetSourceDialog = ()=>{\n    return {\n        type:'OPEN_GET_SOURCE_DIALOG',\n    }\n}\n\nexport const closeAllModals = () => {\n    return {\n        type: 'CLOSE_ALL_MODALS',\n    }\n}\n\nexport const toggleSnackbar = (vertical,horizontal,msg,color) => {\n    return {\n        type: 'TOGGLE_SNACKBAR',\n        vertical:vertical,\n        horizontal:horizontal,\n        msg:msg,\n        color:color,\n    }\n}\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: 'SET_MODALS_LOADING',\n        status:status,\n    }\n}\n\nexport const refreshFileList = () => {\n    return {\n        type: 'REFRESH_FILE_LIST',\n    }\n}\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: 'SEARCH_MY_FILE',\n        keywords: keywords,\n    }\n}\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: 'SHOW_IMG_PREIVEW',\n        first: first,\n    }\n}\n\nexport const refreshStorage = () => {\n    return {\n        type: 'REFRESH_STORAGE',\n    }\n}\n\nexport const saveFile = () => {\n    return {\n        type: 'SAVE_FILE',\n    }\n}","export const sizeToString = (bytes) => {\n    if (bytes === 0) return '0 B';\n    var k = 1024;\n    var sizes = ['B','KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + ' ' + sizes[i]; \n}\n\nexport const setCookie = (name,value,days)=>{\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n    }\n    document.cookie = name + \"=\" + (value || \"\") +\"; path=/\"; \n}\n\nexport const setGetParameter = (paramName, paramValue) =>{\n    var url = window.location.href;\n    var hash = window.location.hash;\n    url = url.replace(hash, '');\n    if (url.indexOf(paramName + \"=\") >= 0)\n    {\n        var prefix = url.substring(0, url.indexOf(paramName));\n        var suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix = (suffix.indexOf(\"&\") >= 0) ? suffix.substring(suffix.indexOf(\"&\")) : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    }\n    else\n    {\n    if (url.indexOf(\"?\") < 0)\n        url += \"?\" + paramName + \"=\" + paramValue;\n    else\n        url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if(url===window.location.href){\n        return;\n    }\n    window.history.pushState(null, null, url);\n}\n\nexport const allowSharePreview=()=>{\n    if(!window.isSharePage){\n        return true;\n    }\n    if(window.isSharePage){\n        if(window.shareInfo.allowPreview){\n            return true;\n        }\n        if(window.userInfo.uid===-1){\n            return false;\n        }\n        return true;\n    }\n}\n\nexport const checkGetParameters= field=>{\n    var url = window.location.href;\n    if(url.indexOf('?' + field + '=') !== -1)\n        return true;\n    else if(url.indexOf('&' + field + '=') !== -1)\n        return true;\n    return false\n}\n\nexport const changeThemeColor = color=>{\n    var metaThemeColor = window.document.querySelector(\"meta[name=theme-color]\");\n    metaThemeColor.setAttribute(\"content\", color);\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTheme } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux'\nimport VideoIcon from '@material-ui/icons/VideoLibrary';\nimport MusicIcon from '@material-ui/icons/LibraryMusic';\nimport ImageIcon from '@material-ui/icons/Collections';\nimport AddIcon from '@material-ui/icons/Add';\nimport DocIcon from '@material-ui/icons/FileCopy';\nimport ShareIcon from '@material-ui/icons/Share';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport OpenIcon from '@material-ui/icons/OpenInNew'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\nimport OpenFolderIcon from '@material-ui/icons/FolderOpen'\nimport RenameIcon from '@material-ui/icons/BorderColor'\nimport MoveIcon from '@material-ui/icons/Input'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer'\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport FolderShared from '@material-ui/icons/FolderShared';\nimport SaveIcon from '@material-ui/icons/Save';\nimport List from '@material-ui/core/List';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Badge from '@material-ui/core/Badge';\nimport Grow from '@material-ui/core/Grow';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {isPreviewable} from \"../config\"\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navitateTo,\n    openCreateFolderDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n} from \"../actions/index\"\nimport {allowSharePreview,checkGetParameters,changeThemeColor} from \"../untils/index\"\nimport Uploader from \"./Uploader.js\"\nimport {sizeToString} from \"../untils/index\"\nimport SezrchBar from \"./SearchBar\"\nimport StorageBar from \"./StorageBar\"\nimport UserAvatar from \"./UserAvatar\"\nimport UserInfo from \"./UserInfo\"\nimport {\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = state => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n        path:state.navigator.path, \n        keywords:state.explorer.keywords,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        handleDesktopToggle: open => {\n            dispatch(drawerToggleAction(open))\n        },\n        setSelectedTarget:targets=>{\n            dispatch(setSelectedTarget(targets))\n        },\n        navitateTo:path => {\n            dispatch(navitateTo(path))\n        },\n        openCreateFolderDialog:()=>{\n            dispatch(openCreateFolderDialog())\n        },\n        changeContextMenu:(type,open)=>{\n            dispatch(changeContextMenu(type,open))\n        },\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile:()=>{\n            dispatch(saveFile())\n        },\n        openMusicDialog:()=>{\n            dispatch(openMusicDialog())\n        },\n        showImgPreivew:(first)=>{\n            dispatch(showImgPreivew(first))\n        },\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n        openRenameDialog:()=>{\n            dispatch(openRenameDialog())\n        },\n        openMoveDialog:()=>{\n            dispatch(openMoveDialog())\n        },\n        openRemoveDialog:()=>{\n            dispatch(openRemoveDialog())\n        },\n        openShareDialog:()=>{\n            dispatch(openShareDialog())\n        },\n    }\n}\n\nconst styles = theme => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down('xs')]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition:\" background-color 250ms\" ,\n    },\n\n    drawer: {\n            width: 0,\n            flexShrink: 0,\n    },\n    drawerDesktop:{\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing.unit * 2,\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    menuButtonDesktop:{\n        marginRight: 20,\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n    menuIcon:{\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper:{\n        width:drawerWidthMobile,\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.enteringScreen,\n        }),\n      },\n      drawerClose: {\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: 'hidden',\n        width: 0,\n    \n      },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing.unit * 3,\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right:-15,\n\n    },\n    nested: {\n        paddingLeft: theme.spacing.unit * 4,\n    },\n      sectionForFile:{\n\n\n            display: 'flex',\n\n      },\n    extendedIcon: {\n        marginRight: theme.spacing.unit,\n    },\n    addButton:{\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton:{\n        borderRadius:\"100px\",\n    },\n    badgeFix:{\n        right:\"10px\",\n    },\n    iconFix:{\n        marginLeft: \"16px\",\n    },\n    dividerFix:{\n        marginTop: \"8px\",\n    },\n    folderShareIcon:{\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration:\"none\",\n    },\n    shareAvatar:{\n        width:\"40px\",\n        height:\"40px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo:{\n        marginLeft: \"10px\",\n        width: \"150px\",\n    }\n});\nclass NavbarCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n            queued: 0,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    componentDidMount=()=>{\n        changeThemeColor((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))!==(nextProps.selected.length <=1 && ! (!nextProps.isMultiple&&nextProps.withFile))){\n            changeThemeColor(!(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    clickUpload = () => {\n        if (this.state.queued === 0) {\n            //document.getElementsByClassName(\"uploadForm\")[0].click();\n            this.props.changeContextMenu(\"empty\",true);\n        } else {\n            this.UploaderRef.current.getWrappedInstance().openFileList();\n        }\n    }\n\n    updateQueueStatus = (queued) => {\n        this.setState({ queued: queued });\n    }\n\n    loadUploader() {\n        if (window.isHomePage) {\n            return (<Uploader queueChange={queued => this.updateQueueStatus(queued)} ref={this.UploaderRef} />)\n        }\n    }\n\n    filterFile = (type)=>{\n        this.props.searchMyFile(\"{filterType:\"+type+\"}\")\n    }\n\n    openPreview = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        this.props.changeContextMenu(\"file\",false);\n        let previewPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        switch(isPreviewable(this.props.selected[0].name)){\n            case 'img':\n                this.props.showImgPreivew(this.props.selected[0]);\n                return;\n            case 'msDoc':\n                window.open(window.apiURL.docPreiview+\"/?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'audio':\n                this.props.openMusicDialog();\n                return;\n            case 'open':\n                window.open(window.apiURL.preview+\"/?action=preview&path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'video':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Video?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Video?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'edit':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Markdown?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Markdown?path=\"+encodeURIComponent(previewPath));  \n                return;\n            default:\n                return;\n        }\n    }\n\n    openDownload = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        let downloadPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        window.open(window.apiURL.download+\"?action=download&path=\"+encodeURIComponent(downloadPath));\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        const drawer = (\n            <div id=\"container\">\n                {window.isMobile&&\n                    <UserInfo/>\n                }\n                {window.isHomePage&&\n                     <div className={classes.addButton}>\n                     <Badge badgeContent={this.state.queued} classes={{ badge: classes.badgeFix }} invisible={this.state.queued === 0} color=\"secondary\">\n                         <Button\n                          disabled={this.props.keywords!==null}\n                          variant=\"outlined\"\n                          size=\"large\"\n                          color=\"primary\" \n                          onClick = {this.clickUpload}\n                          className={classes.fabButton}\n                          >\n                             <AddIcon className={classes.extendedIcon} /> 新建项目\n                             \n                                  \n                         </Button>\n                           </Badge>\n                           </div>\n                }\n                {(!window.isHomePage&&(window.userInfo.uid!==-1))&&\n                <div>\n                    <ListItem button key=\"我的文件\" onClick={()=>window.location.href=\"/\"}>\n                    <ListItemIcon>     \n                            <FolderShared className={classes.iconFix}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                </div>\n                }\n\n                {window.isHomePage&&<div>\n                    <List> \n                    <Divider/>\n                    <ListItem button id=\"pickfiles\" className={classes.hiddenButton}>\n                        <ListItemIcon><UploadIcon /></ListItemIcon>\n                        <ListItemText />\n                    </ListItem>\n                </List>\n                <ListItem button key=\"视频\" onClick={()=>this.filterFile(\"video\")}>\n                    <ListItemIcon>     \n                            <VideoIcon className={[classes.iconFix,classes.iconVideo]}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"视频\" />\n                </ListItem>\n\n                <ListItem button key=\"图片\" onClick={()=>this.filterFile(\"image\")}>\n                    <ListItemIcon>      \n                        <ImageIcon className={[classes.iconFix,classes.iconImg]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"图片\" />\n                </ListItem>\n\n                <ListItem button key=\"音频\" onClick={()=>this.filterFile(\"audio\")}>\n                    <ListItemIcon>\n                            <MusicIcon className={[classes.iconFix,classes.iconAudio]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"音频\" />\n                </ListItem>\n\n                <ListItem button key=\"文档\" onClick={()=>this.filterFile(\"doc\")}>\n                    <ListItemIcon>\n                            <DocIcon className={[classes.iconFix,classes.iconDoc]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"文档\" />\n                </ListItem> <Divider className={classes.dividerFix}/></div>}\n\n                {window.userInfo.uid!==-1&&<div>\n                    <ListItem button key=\"我的分享\"  onClick={()=>window.location.href=\"/Share/My\"}>\n                        <ListItemIcon>\n                                <ShareIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"我的分享\" />\n                    </ListItem>\n                    <ListItem button key=\"离线下载\"  onClick={()=>window.location.href=\"/Home/Download\"}>\n                        <ListItemIcon>\n                                <DownloadIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"离线下载\" />\n                    </ListItem>\n                {!window.isSharePage&&\n                    <div>\n                        <StorageBar></StorageBar>\n                        </div>\n                }\n                \n                    </div>\n                }\n                {window.userInfo.uid===-1&&\n                <div>\n                    <ListItem button key=\"登录\" onClick={()=>window.location.href=\"/Login\"}>\n                        <ListItemIcon>\n                                <AccountArrowRight className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText primary=\"登录\" />\n                    </ListItem>\n                    <ListItem button key=\"注册\" onClick={()=>window.location.href=\"/Signup\"}>\n                    <ListItemIcon>\n                            <AccountPlus className={classes.iconFix} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"注册\" />\n                </ListItem>\n                </div>\n                }\n                {window.isSharePage&&\n                    <div className={classes.stickFooter}>\n                        <Divider/>\n                        <a className={classes.shareInfoContainer} href={\"/Profile/\"+window.shareInfo.ownerUid}>\n                            <Avatar src={\"/Member/Avatar/\"+window.shareInfo.ownerUid+\"/l\"} className={classes.shareAvatar}/><div className={classes.ownerInfo}>\n                            <Typography noWrap>{window.shareInfo.ownerNick}</Typography>\n                            <Typography noWrap variant=\"caption\" color=\"textSecondary\">分享于{window.shareInfo.shareDate }</Typography>\n                        </div>\n                        </a>\n                        \n                    </div>}\n                 \n                \n                \n                </div>\n        );\n        const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n        return (\n            <div>\n                <AppBar position=\"fixed\" className={classes.appBar} color={(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?\"primary\":\"default\"}> \n                    <Toolbar>\n                    {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&\n                        <IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={this.handleDrawerToggle}\n                            className={classes.menuButton}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                    }\n                        {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&<IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={()=>this.props.handleDesktopToggle(!this.props.desktopOpen)}\n                            className={classes.menuButtonDesktop}\n                        >\n                            <MenuIcon />\n                        </IconButton>}\n                        {((this.props.selected.length >1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <Grow in={(this.props.selected.length >1) || (!this.props.isMultiple&&this.props.withFile)}>\n                                <IconButton\n                                    color=\"inherit\"\n                                    className={classes.menuIcon}\n                                    onClick = {()=>this.props.setSelectedTarget([])}\n                                >\n                                    <BackIcon />\n                                </IconButton>\n                            </Grow>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {window.isSharePage&&window.pageId===\"\"&&<FolderShared className={classes.folderShareIcon}/>}{window.siteInfo.mainTitle}\n        \t\t\t\t</Typography>\n                        }\n\n                        {(!this.props.isMultiple&&this.props.withFile&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected[0].name} {(window.isHomePage||window.isSharePage)&&\"(\"+sizeToString(this.props.selected[0].size)+\")\"} \n        \t\t\t\t</Typography>\n                        }\n\n                        {(this.props.selected.length >1&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected.length}个对象\n        \t\t\t\t</Typography>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <SezrchBar/>\n                        }\n                        <div className={classes.grow} />\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile)) && !window.isHomePage&&!window.isSharePage && window.userInfo.uid!==-1&&!checkGetParameters(\"share\"))&&\n                            <div className={classes.sectionForFile}>\n                                <Tooltip title=\"保存\">\n                                    <IconButton color=\"inherit\" onClick={()=>this.props.saveFile()}>\n                                        <SaveIcon/>\n                                    </IconButton>\n                                </Tooltip>\n                            </div>\n                        }\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <div className={classes.sectionForFile}>\n                                {(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))}>\n                                        <Tooltip title=\"打开\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openPreview()}\n                                            >\n                                                <OpenIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&this.props.withFile)&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile)}>\n                                        <Tooltip title=\"下载\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openDownload()}\n                                            >\n                                                <DownloadIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple && this.props.withFolder)&&\n                                    <Grow in={(!this.props.isMultiple && this.props.withFolder)}>\n                                        <Tooltip title=\"进入目录\">\n                                            <IconButton color=\"inherit\"\n                                                onClick = {()=>this.props.navitateTo(this.props.path===\"/\"?this.props.path+this.props.selected[0].name:this.props.path+\"/\"+this.props.selected[0].name) }\n                                            >\n                                                <OpenFolderIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"分享\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openShareDialog()}>\n                                                <ShareIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"重命名\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRenameDialog()}>\n                                                <RenameIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {!window.isSharePage&&<div>\n                                    {!window.isMobile&&<Grow in={(this.props.selected.length!==0)&&!window.isMobile}>\n                                    <Tooltip title=\"移动\">\n                                        <IconButton color=\"inherit\" onClick={()=>this.props.openMoveDialog()}>\n                                            <MoveIcon/>\n                                        </IconButton>\n                                    </Tooltip>\n                                    </Grow>}\n                                    \n                                    <Grow in={(this.props.selected.length!==0)}>\n                                        <Tooltip title=\"删除\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRemoveDialog()}>\n                                                <DeleteIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                </div>}\n                                \n                                \n                            </div>\n                        }\n                         {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <UserAvatar/>\n                        }\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                    <Hidden smUp implementation=\"css\">\n                        <SwipeableDrawer\n                            container={this.props.container}\n                            variant=\"temporary\"\n                            classes={{\n                                paper: classes.drawerPaper,\n                            }}\n                            anchor=\"left\"\n                            open={this.state.mobileOpen}\n                            onClose={this.handleDrawerToggle}\n                            onOpen={()=>this.setState(state => ({ mobileOpen: true}))}\n                            disableDiscovery={iOS} \n                            ModalProps={{\n                                keepMounted: true, // Better open performance on mobile.\n                            }}\n                        >\n                            {drawer}\n                        </SwipeableDrawer>\n                    </Hidden>\n                    <Hidden xsDown implementation=\"css\">\n                        <Drawer\n                            classes={{\n                                paper: classNames({\n                                    [classes.drawerOpen]: this.props.desktopOpen,\n                                    [classes.drawerClose]: !this.props.desktopOpen,\n                                  }),\n                            }}\n                            className={classNames(classes.drawer, {\n                                [classes.drawerOpen]: this.props.desktopOpen,\n                                [classes.drawerClose]: !this.props.desktopOpen,\n                            })}\n                            variant=\"persistent\"\n                            anchor=\"left\"\n                            open={this.props.desktopOpen}\n                        ><div className={classes.toolbar} />\n                            {drawer}\n                        </Drawer>\n                    </Hidden>\n        \n            </div>\n        );\n    }\n\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )( withTheme()(withStyles(styles)(NavbarCompoment)))\n  \nexport default Navbar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport {\n } from \"../actions/index\"\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport amber from '@material-ui/core/colors/amber';\nimport IconButton from '@material-ui/core/IconButton';\nimport WarningIcon from '@material-ui/icons/Warning';\n\nconst mapStateToProps = state => {\n    return {\n        snackbar:state.viewUpdate.snackbar,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n  };\n\nconst styles1 = theme => ({\n    success: {\n        backgroundColor: green[600],\n      },\n      error: {\n        backgroundColor: theme.palette.error.dark,\n      },\n      info: {\n        backgroundColor: theme.palette.primary.dark,\n      },\n      warning: {\n        backgroundColor: amber[700],\n      },\n      icon: {\n        fontSize: 20,\n      },\n      iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing.unit,\n      },\n      message: {\n        display: 'flex',\n        alignItems: 'center',\n      },\n})\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n  \n    return (\n      <SnackbarContent\n        className={classNames(classes[variant], className)}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <Icon className={classNames(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={onClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n        {...other}\n      />\n    );\n  }\n  MySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n  };\n  \nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);  \nconst styles = theme => ({\n    margin: {\n        margin: theme.spacing.unit,\n    },\n})\nclass SnackbarCompoment extends Component {\n\n    state={\n        open:false,\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(nextProps.snackbar.toggle !== this.props.snackbar.toggle){\n            this.setState({open:true});\n        }\n    }\n\n    handleClose= ()=>{\n        this.setState({open:false});\n    } \n    \n    render() {\n\n        return (\n            <Snackbar\n            anchorOrigin={{\n                vertical: this.props.snackbar.vertical,\n                horizontal: this.props.snackbar.horizontal,\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n            >\n            <MySnackbarContentWrapper\n                onClose={this.handleClose}\n                variant={this.props.snackbar.color}\n                message={this.props.snackbar.msg} \n            />\n        </Snackbar>\n        );\n    }\n\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SnackbarCompoment))\n  \nexport default AlertBar","const checkSelectedProps = (state)=>{\n    let isMultiple,withFolder,withFile=false;\n    isMultiple = (state.selected.length>1);\n    // eslint-disable-next-line\n    state.selected.map((value)=>{\n        if(value.type===\"dir\"){\n            withFolder = true;\n        }else if(value.type===\"file\"){\n            withFile = true;\n        }\n    })\n    return [isMultiple,withFolder,withFile];\n}\n\nconst doNavigate = (path,state)=>{\n    return Object.assign({}, state, {\n        navigator:Object.assign({}, state.navigator, {\n            path: path\n        }),\n        viewUpdate:Object.assign({}, state.viewUpdate, {\n            contextOpen:false,\n            navigatorError:false,\n            navigatorLoading:true,\n        }),\n        explorer:Object.assign({}, state.explorer, {\n            selected:[],\n            selectProps: {\n                isMultiple:false,\n                withFolder:false,\n                withFile:false,\n            },\n            keywords:null,\n        }),\n    });\n}\n\nconst cloudreveApp = (state = [], action) => {\n    switch (action.type) {\n        case 'DRAWER_TOGGLE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    open:action.open,\n                }),\n            });\n        case 'CHANGE_VIEW_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    explorerViewMethod:action.method,\n                }),\n            });\n        case 'CHANGE_SORT_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    sortMethod:action.method,\n                }),\n            });\n        case 'CHANGE_CONTEXT_MENU':\n            if(state.viewUpdate.contextOpen && action.open){\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                contextOpen: action.open,\n                contextType:action.menuType,\n                }),\n            });\n        case 'SET_NAVIGATOR_LOADING_STATUE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorLoading:action.status,\n                }),\n            });\n        case 'SET_NAVIGATOR_ERROR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorError: action.status,\n                    navigatorErrorMsg: action.msg,\n                }),\n            });\n        case 'UPDATE_FILE_LIST':\n            // eslint-disable-next-line\n            action.list.sort((a,b)=>{\n                switch (state.viewUpdate.sortMethod) {\n                    case \"sizePos\":\n                        return a.size-b.size;\n                    case \"sizeRes\": \n                        return b.size-a.size;\n                    case 'namePos':\n                        return a.name.localeCompare(b.name);\n                    case 'nameRev':\n                        return b.name.localeCompare(a.name);\n                    case 'timePos':\n                        return Date.parse(a.date)-Date.parse(b.date);\n                    case 'timeRev':\n                        return Date.parse(b.date)-Date.parse(a.date);\n                    default:\n                        break; \n                }\n            })\n            var dirList =  action.list.filter(function (x) {\n                return x.type === \"dir\";\n            });\n            var fileList =  action.list.filter(function (x) {\n                return x.type === \"file\";\n            });\n            return Object.assign({}, state, {\n                explorer: Object.assign({}, state.explorer, {\n                    fileList: fileList,\n                    dirList: dirList,\n                }),\n            });\n        case 'ADD_SELECTED_TARGET':\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: [...state.explorer.selected,action.targets]\n                }),\n            });\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'SET_SELECTED_TARGET':\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: action.targets\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'RMOVE_SELECTED_TARGET':\n            var oldSelected = state.explorer.selected.concat();\n            oldSelected.splice(action.id,1);\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: oldSelected\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'NAVIGATOR_TO':\n            return doNavigate(action.path,state);\n        case 'NAVIGATOR_UP':\n            let pathSplit = state.navigator.path.split(\"/\");\n            pathSplit.pop();\n            let newPath = pathSplit.length===1?\"/\":pathSplit.join(\"/\");\n            return doNavigate(newPath,state);\n        case 'OPEN_CREATE_FOLDER_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_RENAME_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        rename:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remove:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        move:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_SHARE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        share:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MUSIC_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        music:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOTE_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remoteDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_TORRENT_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        torrentDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_GET_SOURCE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        getSource:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'CLOSE_ALL_MODALS': \n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:false,\n                        rename:false,\n                        move:false,\n                        remove:false,\n                        share:false,\n                        music:false,\n                        remoteDownload:false,\n                        torrentDownload:false,\n                        getSource:false,\n                    }),\n                }),\n            });\n        case 'TOGGLE_SNACKBAR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    snackbar:{\n                        toggle:!state.viewUpdate.snackbar.toggle,\n                        vertical:action.vertical,\n                        horizontal:action.horizontal,\n                        msg:action.msg,\n                        color:action.color,\n                    },\n                }),\n            });\n        case 'SET_MODALS_LOADING':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modalsLoading:action.status,\n                }),\n            });\n        case 'REFRESH_FILE_LIST':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh:!state.navigator.refresh,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    }\n                }),\n            });\n        case 'SEARCH_MY_FILE':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:!state.navigator.refresh,\n                }),\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    contextOpen:false,\n                    navigatorError:false,\n                    navigatorLoading:true,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    },\n                    keywords:action.keywords,\n                }),\n            });\n        case 'SHOW_IMG_PREIVEW':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    imgPreview: {\n                        first:action.first,\n                        other:state.explorer.fileList,\n                    },\n                }),\n            });\n        case 'REFRESH_STORAGE':\n            return Object.assign({}, state, {\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    storageRefresh:!state.viewUpdate.storageRefresh,\n                }),\n            });\n        case 'SAVE_FILE':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    fileSave:!state.explorer.fileSave,\n                }),\n            });\n        default:\n            return state\n    }\n  }\n  \n  \nexport default cloudreveApp","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport InputBase from '@material-ui/core/InputBase';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport FileIcon from '@material-ui/icons/InsertDriveFile'\nimport ShareIcon from '@material-ui/icons/Share'\nimport { connect } from 'react-redux'\nimport {\n    searchMyFile,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n    }\n}\n\nconst styles = theme => ({\n    search: {\n        [theme.breakpoints.down('sm')]: {\n            display:\"none\",\n        },\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n          backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing.unit * 2,\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n          marginLeft: theme.spacing.unit * 7.2,\n          width: 'auto',\n        },\n      },\n      searchIcon: {\n        width: theme.spacing.unit * 9,\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      },\n      inputRoot: {\n        color: 'inherit',\n        width: '100%',\n      },\n      inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 7,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n          width: 200,\n          '&:focus': {\n            width: 300,\n          }\n        },\n      },\n      suggestBox:{\n        zIndex: \"9999\",\n        width:364,\n      }\n})\n\nclass SearchBarCompoment extends Component {\n\n    state = {\n        anchorEl: null,\n        input:\"\",\n    };\n\n    handleChange = (event)=>{\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl:currentTarget,\n            input:event.target.value,\n        });\n    }\n\n    cancelSuggest = ()=>{\n        this.setState({\n            input:\"\",\n        });\n    }\n\n    searchMyFile = ()=>{\n        this.props.searchMyFile(this.input);\n    }\n\n    searchShare = ()=>{\n        window.location.href=\"/Explore/Search/\"+this.input;\n    }\n\n    render() {\n\n        const { classes} = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input!==\"\" ? 'simple-popper' : null;\n\n        return (\n            <div className={classes.search}> \n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <InputBase\n                    placeholder=\"搜索...\"\n                    classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                    }}\n                    onChange={this.handleChange}\n                    onBlur = {this.cancelSuggest}\n                    value ={this.state.input}\n                />\n                <Popper id={id} open={this.state.input!==\"\"} anchorEl={anchorEl} className={classes.suggestBox} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper\n                            square={true}\n                            >\n                            {window.isHomePage&&\n                            <MenuItem onClick={this.searchMyFile}>\n                                <ListItemIcon className={classes.icon}>\n                                    <FileIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在我的文件中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            }\n                            \n                            <MenuItem onClick={this.searchShare}>\n                                <ListItemIcon className={classes.icon}>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在全站分享中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SearchBarCompoment))\n  \nexport default SearchBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport StorageIcon from '@material-ui/icons/Storage'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {\n    toggleSnackbar,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        refresh:state.viewUpdate.storageRefresh,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n    }\n}\n\nconst styles = theme => ({\n    iconFix:{\n        marginLeft: \"32px\",\n        marginRight: \"32px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix:{\n        \"padding\":\" 0 0 0 16px\",\n    },\n    storageContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n   \n        marginBottom: \"20px\",\n    },\n    detail:{\n        width: \"100%\",\n        marginRight: \"20px\",\n    },\n    info:{\n        width:\"131px\",\n        marginTop:\"5px\",\n    },\n    bar:{\n        marginTop: \"5px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n    }\n})\n\nclass StorageBarCompoment extends Component {\n\n    state={\n        percent:0,\n        used:null,\n        total:null,\n    }\n\n    firstLoad = true;\n\n    componentDidMount = ()=>{\n        if(this.firstLoad){\n            this.updateStatus();\n            this.firstLoad = !this.firstLoad;\n        }\n        \n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(this.props.refresh!==nextProps.refresh){\n            this.updateStatus();\n        }\n    }\n\n    updateStatus = ()=>{\n        let percent = 0;\n        axios.get('/Member/Memory')\n        .then( (response)=> {\n            if(response.data.rate>=100){\n                percent = 100;\n                this.props.toggleSnackbar(\"top\",\"right\",\"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\"warning\");\n            }else{\n                percent = response.data.rate;\n            }\n            this.setState({\n                percent:percent,\n                used:response.data.used,\n                total:response.data.total,\n            });\n        })\n        .catch((error) =>{\n            \n        });\n    }\n\n    render() {\n        const { classes} = this.props;\n        if(!window.isMobile){\n            return (\n                <div className={classes.stickFooter}><Divider/>  \n            <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n                  </div>\n            );\n        }else{\n            return (\n                <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n            );\n        }\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(StorageBarCompoment))\n  \nexport default StorageBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grow from '@material-ui/core/Grow';\nimport { connect } from 'react-redux'\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport SettingIcon from '@material-ui/icons/Settings'\nimport Typography from '@material-ui/core/Typography';\nimport Chip from '@material-ui/core/Chip';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountCircle,\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nimport {\n\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n    }\n}\n\nconst styles = theme => ({\n    mobileHidden:{\n        [theme.breakpoints.down('xs')]: {\n            display: 'none',\n        },\n    },\n    avatar:{\n        width:\"30px\",\n        height:\"30px\",\n    },\n    header:{\n        display:\"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar:{\n        height:\"90px\",\n        width:\"90px\",\n    },\n    info:{\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge:{\n        marginTop:\"10px\",\n    },\n    visitorMenu:{\n        width:200,\n    }\n})\n\nclass UserAvatarCompoment extends Component {\n\n    state={\n        anchorEl:null,\n    }\n\n    showUserInfo = e=>{\n        this.setState({\n            anchorEl:e.currentTarget\n        });\n    }\n\n    handleClose=()=>{\n        this.setState({\n            anchorEl:null,\n        });\n    }\n    \n    openURL = (url)=>{\n        window.location.href=url;\n    }\n\n    render() {\n        const { classes} = this.props;\n        return (\n            <div className={classes.mobileHidden}>\n                \n                <Grow in={((this.props.selected.length <=1) && !(!this.props.isMultiple&&this.props.withFile))}>\n                       <div>\n                       {(window.userInfo.uid!==-1)&&<IconButton onClick={()=>window.location.href=\"/Member/Setting\"} color=\"inherit\" \n                        >\n                            <SettingIcon/>\n                        </IconButton>}\n                      \n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                        {window.userInfo.uid===-1&&\n                            <AccountCircle/>\n                        }\n                        {window.userInfo.uid!==-1&&<Avatar  src={\"/Member/Avatar/\"+window.userInfo.uid+\"/s\"} className={classes.avatar} />}\n                        \n                        </IconButton> </div>\n                </Grow>\n                <Popover \n                open = {this.state.anchorEl!==null}\n                onClose={this.handleClose}\n                anchorEl={this.state.anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                >\n                {window.userInfo.uid===-1&&\n                     <div className={classes.visitorMenu}>\n                     <Divider/>\n                     <MenuItem onClick={()=>this.openURL(\"/Login\")}>\n                             <ListItemIcon><AccountArrowRight/></ListItemIcon>\n                                 登录\n                         </MenuItem>\n                     <MenuItem onClick={()=>this.openURL(\"/Signup\")}>\n                         <ListItemIcon><AccountPlus/></ListItemIcon>\n                             注册\n                     </MenuItem>\n                   </div>\n                }\n                {window.userInfo.uid!==-1&&\n                <div>\n                    <div className={classes.header}>\n                        <div className={classes.largeAvatarContainer}>\n                            <Avatar className={classes.largeAvatar} src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} />\n                        </div>\n                        <div className={classes.info}>\n                            <Typography noWrap>{window.userInfo.nick}</Typography>\n                            <Typography color=\"textSecondary\" noWrap>{window.userInfo.email}</Typography>\n                            <Chip\n                                className={classes.badge}\n                                color={window.userInfo.groupId === 1?\"secondary\":\"default\"}\n                                label={window.userInfo.group}\n                            />\n                        </div>\n                    </div>\n                    <div>\n                        <Divider/>\n                        <MenuItem onClick={()=>this.openURL(\"/Profile/\"+window.userInfo.uid)}>\n                                <ListItemIcon><HomeAccount/></ListItemIcon>\n                                    个人主页\n                            </MenuItem>\n                        {(window.userInfo.groupId === 1)&&\n                            <MenuItem onClick={()=>this.openURL(\"/Admin\")}>\n                                <ListItemIcon><DesktopMacDashboard/></ListItemIcon>\n                                    管理面板\n                            </MenuItem>\n                        }\n                       \n                        <MenuItem onClick={()=>this.openURL(\"/Member/LogOut\")}>\n                            <ListItemIcon><LogoutVariant/></ListItemIcon>\n                                退出\n                        </MenuItem>\n                    </div></div>}\n                </Popover>\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserAvatarCompoment))\n  \nexport default UserAvatar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport Typography from '@material-ui/core/Typography';\nimport {\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst styles = theme => ({\n    userNav:{\n        height:\"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage: \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\"+theme.palette.primary.light.replace(\"#\",\"%23\")+\"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.main.replace(\"#\",\"%23\")+\"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar:{\n        display: \"block\",\n        width: \"80px\",\n        height: \"80px\",\n        border:\" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow: \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg:{\n        width: \"80px\",\n        height: \"80px\",\n    },\n    nickName:{\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar:{\n        display:\"flex\",\n    },\n    groupName:{\n        marginLeft: \"10px\",\n        color:\"#ffffff8a\",\n    },\n    storageCircle:{\n        width: \"200px\",\n    }\n})\n\nclass UserInfoCompoment extends Component {\n\n    render() {\n        const { classes} = this.props;\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    <a href={\"/Profile/\"+window.userInfo.uid} className={classes.avatar}>\n                        {(window.userInfo.uid!==-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} className={classes.avatarImg}></img>}\n                        {(window.userInfo.uid===-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/0/l\"} className={classes.avatarImg}></img>}\n                    </a>\n                \n                </div>\n                <div className={classes.storageCircle}><Typography className={classes.nickName} component=\"h2\" noWrap>{window.userInfo.nick}</Typography>\n                    <Typography className={classes.groupName} component=\"h2\" color=\"textSecondary\" noWrap>{window.userInfo.group}</Typography></div>\n            </div>           \n        );\n      \n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserInfoCompoment))\n  \nexport default UserInfo","export const isDefined = val => val != null\nexport const isFunction = val => typeof val === 'function'\nexport const noop = _ => { }\n\nexport const newScript = (src) => (cb) => {\n  const scriptElem = document.createElement('script')\n  if (typeof src === 'object') {\n    // copy every property to the element\n    for (var key in src) {\n      if (Object.prototype.hasOwnProperty.call(src, key)) {\n        scriptElem[key] = src[key];\n      }\n    }\n    src = src.src;\n  } else {\n    scriptElem.src = src\n  }\n  scriptElem.addEventListener('load', () => cb(null, src))\n  scriptElem.addEventListener('error', () => cb(true, src))\n  document.body.appendChild(scriptElem)\n  return scriptElem\n}\n\nconst keyIterator = (cols) => {\n  const keys = Object.keys(cols)\n  let i = -1\n  return {\n    next () {\n      i++ // inc\n      if (i >= keys.length) return null\n      else return keys[i]\n    }\n  }\n}\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n  let hasError = false\n  let successed = 0\n  const ret = []\n  tasks = tasks.filter(isFunction)\n\n  if (tasks.length <= 0) cb(null)\n  else {\n    tasks.forEach((task, i) => {\n      const thunk = task\n      thunk((err, ...args) => {\n        if (err) hasError = true\n        else {\n          // collect result\n          if (args.length <= 1) args = args[0]\n\n          ret[i] = args\n          successed ++\n        }\n\n        if (isFunction(each)) each.call(null, err, args, i)\n\n        if (hasError) cb(true)\n        else if (tasks.length === successed) {\n          cb(null, ret)\n        }\n      })\n    })\n  }\n}\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n  tasks = tasks.filter(val => val != null)\n  const nextKey = keyIterator(tasks)\n  const nextThunk = () => {\n    const key = nextKey.next()\n    let thunk = tasks[key]\n    if (Array.isArray(thunk)) thunk = parallel.apply(null, thunk).call(null, each)\n    return [ +key, thunk ] // convert `key` to number\n  }\n  let key, thunk\n  let next = nextThunk()\n  key = next[0]\n  thunk = next[1]\n  if (thunk == null) return cb(null)\n\n  const ret = []\n  const iterator = () => {\n    thunk((err, ...args) => {\n      if (args.length <= 1) args = args[0]\n      if (isFunction(each)) each.call(null, err, args, key)\n\n      if (err) cb(err)\n      else {\n        // collect result\n        ret.push(args)\n\n        next = nextThunk()\n        key = next[0]\n        thunk = next[1]\n        if (thunk == null) return cb(null, ret) // finished\n        else iterator()\n      }\n    })\n  }\n  iterator()\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { newScript, series, noop } from './utils'\n\nconst loadedScript = []\nconst pendingScripts = {}\nlet failedScript = []\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n  // sequence load\n  const loadNewScript = (script) => {\n    const src = typeof script === 'object' ? script.src : script\n    if (loadedScript.indexOf(src) < 0) {\n      return taskComplete => {\n        const callbacks = pendingScripts[src] || []\n        callbacks.push(taskComplete)\n        pendingScripts[src] = callbacks\n        if (callbacks.length === 1) {\n          return newScript(script)(err => {\n            pendingScripts[src].forEach(cb => cb(err, src))\n            delete pendingScripts[src]\n          })\n        }\n      }\n    }\n  }\n  const tasks = scripts.map(src => {\n    if (Array.isArray(src)) {\n      return src.map(loadNewScript)\n    }\n    else return loadNewScript(src)\n  })\n\n  series(...tasks)((err, src) => {\n    if (err) {\n      failedScript.push(src)\n    }\n    else {\n      if (Array.isArray(src)) {\n        src.forEach(addCache)\n      }\n      else addCache(src)\n    }\n  })(err => {\n    removeFailedScript()\n    onComplete(err)\n  })\n}\n\nconst addCache = (entry) => {\n  if (loadedScript.indexOf(entry) < 0) {\n    loadedScript.push(entry)\n  }\n}\n\nconst removeFailedScript = () => {\n  if (failedScript.length > 0) {\n    failedScript.forEach((script) => {\n      const node = document.querySelector(`script[src='${script}']`)\n      if (node != null) {\n        node.parentNode.removeChild(node)\n      }\n    })\n\n    failedScript = []\n  }\n}\n\nconst scriptLoader = (...scripts) => (WrappedComponent) => {\n  class ScriptLoader extends Component {\n    static propTypes = {\n      onScriptLoaded: PropTypes.func\n    }\n\n    static defaultProps = {\n      onScriptLoaded: noop\n    }\n\n    constructor (props, context) {\n      super(props, context)\n\n      this.state = {\n        isScriptLoaded: false,\n        isScriptLoadSucceed: false\n      }\n\n      this._isMounted = false;\n    }\n\n    componentDidMount () {\n      this._isMounted = true;\n      startLoadingScripts(scripts, err => {\n        if(this._isMounted) {\n          this.setState({\n            isScriptLoaded: true,\n            isScriptLoadSucceed: !err\n          }, () => {\n            if (!err) {\n              this.props.onScriptLoaded()\n            }\n          })\n        }\n      })\n    }\n\n    componentWillUnmount () {\n      this._isMounted = false;\n    }\n\n    getWrappedInstance () {\n      return this.refs.wrappedInstance;\n    }\n\n    render () {\n      const props = {\n        ...this.props,\n        ...this.state,\n        ref: 'wrappedInstance'\n      }\n\n      return (\n        <WrappedComponent {...props} />\n      )\n    }\n  }\n\n  return hoistStatics(ScriptLoader, WrappedComponent)\n}\n\nexport default scriptLoader\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport FileIcon from '@material-ui/icons/InsertDriveFile';\nimport PhotoIcon from '@material-ui/icons/MusicNote';\nimport VideoIcon from '@material-ui/icons/Videocam';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport MusicIcon from '@material-ui/icons/MusicNote';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst styles = theme => ({\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar:{\n        marginTop:5,\n    },\n    minHight:{\n        [theme.breakpoints.up('sm')]: {\n            minWidth:500,\n        }\n    },\n    dialogContent:{\n        padding:0,\n    },\n    successStatus:{\n        marginBottom:10,\n        color:\"#4caf50\",\n    },\n    errorStatus:{\n        marginBottom:10,\n        color:\"#ff5722\",\n    },\n});\nclass FileList extends Component {\n\n    state = {\n        open: false,\n        files: [\n        ],\n    };\n\n    //入队\n    enQueue(files) {\n        var filesNow = this.state.files;\n        if (filesNow.findIndex((file) => { return file.id === files.id }) === -1) {\n            filesNow.push(files);\n            this.setState({\n                files: filesNow,\n            });\n        }\n        console.log(this.state);\n\n    }\n\n    deQueue(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n            });\n        }\n    }\n\n    updateStatus(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setComplete(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setError(file,errMsg){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        }else{\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if(!this.state.open){\n            this.setState({ open: true });\n        }\n        \n    };\n\n    cancelUpload = file =>{\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false });\n\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadForm\")[0].click();\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        const fileIcon = {\n            \"image\":[\"jpg\",\"bpm\",\"png\",\"gif\",\"jpeg\",\"webp\",\"svg\"],\n            \"video\":[\"mp4\",\"rmvb\",\"flv\",\"avi\"],\n            \"audio\":[\"mp3\",\"ogg\",\"flac\",\"aac\"],\n        };\n\n        this.props.inRef({\n            \"openFileList\":this.openFileList.bind(this),\n            \"enQueue\":this.enQueue.bind(this),\n            \"updateStatus\":this.updateStatus.bind(this),\n            \"setComplete\":this.setComplete.bind(this),\n            \"setError\":this.setError.bind(this),\n        });\n\n        var listContent = (\n            this.state.files.map(function(item, i){\n                var progressItem;\n                var queueIcon;\n\n                if(fileIcon[\"image\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<PhotoIcon></PhotoIcon>);\n                }else if(fileIcon[\"video\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<VideoIcon></VideoIcon>);\n                }else if(fileIcon[\"audio\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<MusicIcon></MusicIcon>);\n                }else{\n                    queueIcon = (<FileIcon></FileIcon>);\n                }\n            \n                if(item.status ===5){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.successStatus}>已完成<br/></div>} />);\n                }else if (item.status ===2){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>{window.plupload.formatSize(item.speed).toUpperCase()}/s 已上传 {window.plupload.formatSize(item.loaded).toUpperCase()} , 共 {window.plupload.formatSize(item.size).toUpperCase()} - {item.percent}% <br/><LinearProgress variant=\"determinate\" value={item.percent} className={classes.progressBar} /></div>}/>);\n                }else if (item.status ===1){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>排队中<br/><LinearProgress className={classes.progressBar}/></div>} />);\n                }else if (item.status ===4){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.errorStatus}>{item.errMsg}<br/></div>} />);\n                }else{\n                    progressItem = (<ListItemText primary={item.name} secondary={item.status} />);\n                }\n                return (\n                    <div key={i}>\n                        <ListItem button >\n                            <Avatar>\n                                {queueIcon}\n                            </Avatar>\n                            {progressItem}\n                            \n                            <ListItemSecondaryAction>\n                                <IconButton aria-label=\"Delete\" onClick={()=>this.cancelUpload(item)}>\n                                    <DeleteIcon />\n                                </IconButton>\n                            </ListItemSecondaryAction>\n\n                        </ListItem>\n                        <Divider /></div>\n                );\n            },this)\n\n        );\n\n        return (\n            <Dialog\n            fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton color=\"inherit\" onClick={this.handleClose} aria-label=\"Close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" color=\"inherit\"  className={classes.flex}>\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                           <AddIcon/>\n                        </IconButton>\n                    </Toolbar>\n                    \n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                <List className={classes.minHight}>\n                    {listContent}\n                </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n\n}\nFileList.propTypes = {\n};\n\nexport default withStyles(styles)(withWidth()(FileList));","import React, { Component } from 'react'\nimport scriptLoader from '../loader/index.js'\nimport { connect } from 'react-redux'\nimport {\n    refreshFileList,\n    refreshStorage\n} from \"../actions/index\"\nimport FileList from \"./Upload/FileList.js\"\n\nlet loaded = false;\n\nconst mapStateToProps = state => {\n    return {\n        path:state.navigator.path,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        refreshFileList:()=>{\n            dispatch(refreshFileList())\n        },\n        refreshStorage:()=>{\n            dispatch(refreshStorage())\n        }\n    }\n}\n\nclass UploaderCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state={\n            queued:0,\n        }\n    }\n\n    setRef(val){\n        this.fileList=val;\n    }\n\n    cancelUpload(file){\n        this.uploader.removeFile(file);\n    }\n    shouldComponentUpdate(nextProps,nextState){\n        if(nextState.queued !== this.state.queued){\n          this.props.queueChange(nextState.queued);\n        }\n        return false;\n    }\n\n    componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) { // load finished\n            if (isScriptLoadSucceed) {\n                if(loaded){\n                    return;\n                }\n                loaded = true;\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: 'html5',\n                    browse_button: 'pickfiles',\n                    container: 'container',\n                    drop_element: 'container',\n                    max_file_size: window.uploadConfig.maxSize,\n                    dragdrop: true,\n                    chunk_size: window.ChunkSize,\n                    filters: {\n                        mime_types: window.uploadConfig.allowedType,\n                    },\n                    multi_selection: !(window.moxie.core.utils.Env.OS.toLowerCase() === \"ios\"),\n                    uptoken_url: \"/Upload/Token\",\n                    domain: \"s\",\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        'FilesAdded':({up, files})=>{\n                            this.fileList[\"openFileList\"]();\n                            window.plupload.each(files, (files)=> {\n                                window.pathCache[files.id] = this.props.path;\n                                this.fileList[\"enQueue\"](files);\n                           })\n                           console.log(window.pathCache);\n                        },\n                            \n                        \n                        'BeforeUpload': function (up, file) {\n                        },\n                        \"QueueChanged\":(up=>{\n                            this.setState({queued:up.total.queued});\n                        }),\n                        'UploadProgress': (up, file)=>{\n                            this.fileList[\"updateStatus\"](file);\n                        },\n                        'UploadComplete': (up, file)=>{\n                            if(file.length===0){\n                                return \n                            }\n                            if(file[0].status === 5){\n                                this.fileList[\"setComplete\"](file[0]);\n                                this.props.refreshFileList(); \n                                this.props.refreshStorage();\n                            }\n                            \n                        },\n                        'FileUploaded': function (up, file, info) {\n                           \n                        },\n                        'Error': (up, err, errTip)=>{\n                            this.fileList[\"openFileList\"]();\n                            this.fileList[\"setError\"](err.file,errTip);\n                        },\n                        \"FilesRemoved\":(up, files)=>{\n                        },\n                    }\n                });\n               // this.fileList[\"openFileList\"]();\n            }\n            else this.onError()\n        }\n    }\n\n    componentDidMount() {\n        const { isScriptLoaded, isScriptLoadSucceed } = this.props\n        if (isScriptLoaded && isScriptLoadSucceed) {\n        }\n        \n    }\n\n    onError(){\n\n    }\n\n    openFileList=()=>{\n        this.fileList[\"openFileList\"]();\n    };\n\n\n    render() {\n        return (\n             <div>\n                <FileList inRef= {this.setRef.bind(this)} cancelUpload={this.cancelUpload.bind(this)}/>\n             </div>\n        );\n    }\n\n}\n\nconst Uploader = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    null,\n    {forwardRef : true}\n)( scriptLoader(\n    ['/static/js/uploader/moxie.js'],\n    ['/static/js/uploader/plupload.dev.js'],\n    ['/static/js/uploader/i18n/zh_CN.js'], \n    ['/static/js/uploader/ui.js'],\n    ['/static/js/uploader/uploader.js'],\n\n)(UploaderCompoment))\n  \nexport default Uploader"],"sourceRoot":""}