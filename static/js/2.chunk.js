(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{18:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return u});var a=["bmp","png","gif","jpg","jpeg","svg","webp"],r=["ppt","pptx","pps","doc","docx","xlsx","xls"],i=["mp3","ogg"],o=["mp4"],s=["pdf"],l=["md","html","sql","go","py","js","json","c","cpp","css","txt"],c={audio:["mp3","flac","ape","wav","acc","ogg"],video:["mp4","flv","avi","wmv","mkv","rm","rmvb","mov","ogv"],image:["bmp","iff","png","gif","jpg","jpeg","psd","svg","webp"],pdf:["pdf"],word:["doc","docx"],ppt:["ppt","pptx"],excel:["xls","xlsx","csv"],text:["txt","md","html"],torrent:["torrent"],zip:["zip","gz","tar","rar","7z"],excute:["exe"],android:["apk"]},p=function(e){var t=e.split(".").pop().toLowerCase();return-1!==a.indexOf(t)?"img":-1!==r.indexOf(t)?"msDoc":-1!==i.indexOf(t)?"audio":-1!==s.indexOf(t)?"open":-1!==o.indexOf(t)?"video":-1!==l.indexOf(t)&&"edit"},u=function(e){var t=e.split(".").pop().toLowerCase();return-1!==c.torrent.indexOf(t)}},2:function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"h",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"C",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p}),n.d(t,"z",function(){return u}),n.d(t,"t",function(){return d}),n.d(t,"y",function(){return m}),n.d(t,"x",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"o",function(){return g}),n.d(t,"k",function(){return w}),n.d(t,"n",function(){return E}),n.d(t,"p",function(){return v}),n.d(t,"l",function(){return b}),n.d(t,"m",function(){return O}),n.d(t,"q",function(){return j}),n.d(t,"j",function(){return x}),n.d(t,"e",function(){return y}),n.d(t,"B",function(){return k}),n.d(t,"w",function(){return S}),n.d(t,"r",function(){return C}),n.d(t,"v",function(){return N}),n.d(t,"A",function(){return I}),n.d(t,"s",function(){return L}),n.d(t,"u",function(){return _});var a=function(e){return{type:"NAVIGATOR_TO",path:e}},r=function(){return{type:"NAVIGATOR_UP"}},i=function(e){return{type:"DRAWER_TOGGLE",open:e}},o=function(e){return{type:"CHANGE_VIEW_METHOD",method:e}},s=function(e){return{type:"CHANGE_SORT_METHOD",method:e}},l=function(e){return{type:"UPDATE_FILE_LIST",list:e}},c=function(e,t){return{type:"CHANGE_CONTEXT_MENU",menuType:e,open:t}},p=function(e){return{type:"ADD_SELECTED_TARGET",targets:e}},u=function(e){return{type:"SET_SELECTED_TARGET",targets:e}},d=function(e){return{type:"RMOVE_SELECTED_TARGET",id:e}},m=function(e){return{type:"SET_NAVIGATOR_LOADING_STATUE",status:e}},h=function(e,t){return{type:"SET_NAVIGATOR_ERROR",status:e,msg:t}},f=function(){return{type:"OPEN_CREATE_FOLDER_DIALOG"}},g=function(){return{type:"OPEN_RENAME_DIALOG"}},w=function(){return{type:"OPEN_MOVE_DIALOG"}},E=function(){return{type:"OPEN_REMOVE_DIALOG"}},v=function(){return{type:"OPEN_SHARE_DIALOG"}},b=function(){return{type:"OPEN_MUSIC_DIALOG"}},O=function(){return{type:"OPEN_REMOTE_DOWNLOAD_DIALOG"}},j=function(){return{type:"OPEN_TORRENT_DOWNLOAD_DIALOG"}},x=function(){return{type:"OPEN_GET_SOURCE_DIALOG"}},y=function(){return{type:"CLOSE_ALL_MODALS"}},k=function(e,t,n,a){return{type:"TOGGLE_SNACKBAR",vertical:e,horizontal:t,msg:n,color:a}},S=function(e){return{type:"SET_MODALS_LOADING",status:e}},C=function(){return{type:"REFRESH_FILE_LIST"}},N=function(e){return{type:"SEARCH_MY_FILE",keywords:e}},I=function(e){return{type:"SHOW_IMG_PREIVEW",first:e}},L=function(){return{type:"REFRESH_STORAGE"}},_=function(){return{type:"SAVE_FILE"}}},25:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var a=function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(1)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},r=function(e,t,n){if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3)}document.cookie=e+"="+(t||"")+"; path=/"},i=function(e,t){var n=window.location.href,a=window.location.hash;if((n=n.replace(a,"")).indexOf(e+"=")>=0){var r=n.substring(0,n.indexOf(e)),i=n.substring(n.indexOf(e));n=r+e+"="+t+(i=(i=i.substring(i.indexOf("=")+1)).indexOf("&")>=0?i.substring(i.indexOf("&")):"")}else n.indexOf("?")<0?n+="?"+e+"="+t:n+="&"+e+"="+t;n!==window.location.href&&window.history.pushState(null,null,n)},o=function(){return!window.isSharePage||(window.isSharePage?!!window.shareInfo.allowPreview||-1!==window.userInfo.uid:void 0)},s=function(e){var t=window.location.href;return-1!==t.indexOf("?"+e+"=")||-1!==t.indexOf("&"+e+"=")},l=function(e){window.document.querySelector("meta[name=theme-color]").setAttribute("content",e)}},64:function(e,t,n){"use strict";(function(e){var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(1),c=n(0),p=n.n(c),u=n(49),d=n.n(u),m=n(50),h=n.n(m),f=n(4),g=n.n(f),w=n(5),E=n(11),v=n.n(E),b=n(14),O=n(116),j=n.n(O),x=n(118),y=n.n(x),k=n(117),S=n.n(k),C=n(115),N=n.n(C),I=n(119),L=n.n(I),_=n(38),A=n.n(_),R=n(120),F=n.n(R),M=n(81),U=n.n(M),T=n(57),D=n.n(T),P=n(91),G=n.n(P),B=n(92),H=n.n(B),z=n(86),W=n.n(z),V=n(48),q=n.n(V),Q=n(27),K=n.n(Q),X=n(102),Y=n.n(X),J=n(101),Z=n.n(J),$=n(13),ee=n.n($),te=n(69),ne=n.n(te),ae=n(30),re=n.n(ae),ie=n(21),oe=n.n(ie),se=n(22),le=n.n(se),ce=n(12),pe=n.n(ce),ue=n(15),de=n.n(ue),me=n(90),he=n.n(me),fe=n(72),ge=n.n(fe),we=n(121),Ee=n.n(we),ve=n(47),be=n.n(ve),Oe=n(73),je=n.n(Oe),xe=n(100),ye=n.n(xe),ke=n(28),Se=n.n(ke),Ce=n(23),Ne=n.n(Ce),Ie=n(18),Le=n(2),_e=n(25),Ae=n(78),Re=n(74),Fe=n(75),Me=n(76),Ue=n(77),Te=n(16),De=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).componentDidMount=function(){Object(_e.b)(t.props.selected.length<=1&&(t.props.isMultiple||!t.props.withFile)?t.props.theme.palette.primary.main:t.props.theme.palette.background.default)},t.componentWillReceiveProps=function(e){(t.props.selected.length<=1&&!(!t.props.isMultiple&&t.props.withFile))!==(e.selected.length<=1&&!(!e.isMultiple&&e.withFile))&&Object(_e.b)(t.props.selected.length<=1&&(t.props.isMultiple||!t.props.withFile)?t.props.theme.palette.background.default:t.props.theme.palette.primary.main)},t.handleDrawerToggle=function(){t.setState(function(e){return{mobileOpen:!e.mobileOpen}})},t.clickUpload=function(){0===t.state.queued?t.props.changeContextMenu("empty",!0):t.UploaderRef.current.getWrappedInstance().openFileList()},t.updateQueueStatus=function(e){t.setState({queued:e})},t.filterFile=function(e){t.props.searchMyFile("{filterType:"+e+"}")},t.openPreview=function(){if(Object(_e.a)()){t.props.changeContextMenu("file",!1);var e="/"===t.props.selected[0].path?t.props.selected[0].path+t.props.selected[0].name:t.props.selected[0].path+"/"+t.props.selected[0].name;switch(Object(Ie.c)(t.props.selected[0].name)){case"img":return void t.props.showImgPreivew(t.props.selected[0]);case"msDoc":return void window.open(window.apiURL.docPreiview+"/?path="+encodeURIComponent(e));case"audio":return void t.props.openMusicDialog();case"open":return void window.open(window.apiURL.preview+"/?action=preview&path="+encodeURIComponent(e));case"video":return window.isSharePage?void(window.location.href="/Viewer/Video?share=true&shareKey="+window.shareInfo.shareId+"&path="+encodeURIComponent(e)):void(window.location.href="/Viewer/Video?path="+encodeURIComponent(e));case"edit":return window.isSharePage?void(window.location.href="/Viewer/Markdown?share=true&shareKey="+window.shareInfo.shareId+"&path="+encodeURIComponent(e)):void(window.location.href="/Viewer/Markdown?path="+encodeURIComponent(e));default:return}}else t.props.toggleSnackbar("top","right","\u672a\u767b\u5f55\u7528\u6237\u65e0\u6cd5\u9884\u89c8","warning")},t.openDownload=function(){if(Object(_e.a)()){var e="/"===t.props.selected[0].path?t.props.selected[0].path+t.props.selected[0].name:t.props.selected[0].path+"/"+t.props.selected[0].name;window.open(window.apiURL.download+"?action=download&path="+encodeURIComponent(e))}else t.props.toggleSnackbar("top","right","\u672a\u767b\u5f55\u7528\u6237\u65e0\u6cd5\u9884\u89c8","warning")},t.state={mobileOpen:!1,queued:0},t.UploaderRef=p.a.createRef(),t}return Object(s.a)(n,t),Object(r.a)(n,[{key:"loadUploader",value:function(){var e=this;if(window.isHomePage)return p.a.createElement(Ae.a,{queueChange:function(t){return e.updateQueueStatus(t)},ref:this.UploaderRef})}},{key:"render",value:function(){var t,n,a=this,r=this.props.classes,i=p.a.createElement("div",{id:"container"},window.isMobile&&p.a.createElement(Ue.a,null),window.isHomePage&&p.a.createElement("div",{className:r.addButton},p.a.createElement(ye.a,{badgeContent:this.state.queued,classes:{badge:r.badgeFix},invisible:0===this.state.queued,color:"secondary"},p.a.createElement(K.a,{disabled:null!==this.props.keywords,variant:"outlined",size:"large",color:"primary",onClick:this.clickUpload,className:r.fabButton},p.a.createElement(N.a,{className:r.extendedIcon})," \u65b0\u5efa\u9879\u76ee"))),!window.isHomePage&&-1!==window.userInfo.uid&&p.a.createElement("div",null,p.a.createElement(le.a,{button:!0,key:"\u6211\u7684\u6587\u4ef6",onClick:function(){return window.location.href="/"}},p.a.createElement(pe.a,null,p.a.createElement(ge.a,{className:r.iconFix})),p.a.createElement(de.a,{primary:"\u6211\u7684\u6587\u4ef6"}))),window.isHomePage&&p.a.createElement("div",null,p.a.createElement(be.a,null,p.a.createElement(oe.a,null),p.a.createElement(le.a,{button:!0,id:"pickfiles",className:r.hiddenButton},p.a.createElement(pe.a,null,p.a.createElement(he.a,null)),p.a.createElement(de.a,null))),p.a.createElement(le.a,{button:!0,key:"\u89c6\u9891",onClick:function(){return a.filterFile("video")}},p.a.createElement(pe.a,null,p.a.createElement(j.a,{className:[r.iconFix,r.iconVideo]})),p.a.createElement(de.a,{primary:"\u89c6\u9891"})),p.a.createElement(le.a,{button:!0,key:"\u56fe\u7247",onClick:function(){return a.filterFile("image")}},p.a.createElement(pe.a,null,p.a.createElement(S.a,{className:[r.iconFix,r.iconImg]})),p.a.createElement(de.a,{primary:"\u56fe\u7247"})),p.a.createElement(le.a,{button:!0,key:"\u97f3\u9891",onClick:function(){return a.filterFile("audio")}},p.a.createElement(pe.a,null,p.a.createElement(y.a,{className:[r.iconFix,r.iconAudio]})),p.a.createElement(de.a,{primary:"\u97f3\u9891"})),p.a.createElement(le.a,{button:!0,key:"\u6587\u6863",onClick:function(){return a.filterFile("doc")}},p.a.createElement(pe.a,null,p.a.createElement(L.a,{className:[r.iconFix,r.iconDoc]})),p.a.createElement(de.a,{primary:"\u6587\u6863"}))," ",p.a.createElement(oe.a,{className:r.dividerFix})),-1!==window.userInfo.uid&&p.a.createElement("div",null,p.a.createElement(le.a,{button:!0,key:"\u6211\u7684\u5206\u4eab",onClick:function(){return window.location.href="/Share/My"}},p.a.createElement(pe.a,null,p.a.createElement(A.a,{className:r.iconFix})),p.a.createElement(de.a,{inset:!0,primary:"\u6211\u7684\u5206\u4eab"})),p.a.createElement(le.a,{button:!0,key:"\u79bb\u7ebf\u4e0b\u8f7d",onClick:function(){return window.location.href="/Home/Download"}},p.a.createElement(pe.a,null,p.a.createElement(D.a,{className:r.iconFix})),p.a.createElement(de.a,{inset:!0,primary:"\u79bb\u7ebf\u4e0b\u8f7d"})),!window.isSharePage&&p.a.createElement("div",null,p.a.createElement(Fe.a,null))),-1===window.userInfo.uid&&p.a.createElement("div",null,p.a.createElement(le.a,{button:!0,key:"\u767b\u5f55",onClick:function(){return window.location.href="/Login"}},p.a.createElement(pe.a,null,p.a.createElement(Te.a,{className:r.iconFix})),p.a.createElement(de.a,{primary:"\u767b\u5f55"})),p.a.createElement(le.a,{button:!0,key:"\u6ce8\u518c",onClick:function(){return window.location.href="/Signup"}},p.a.createElement(pe.a,null,p.a.createElement(Te.c,{className:r.iconFix})),p.a.createElement(de.a,{primary:"\u6ce8\u518c"}))),window.isSharePage&&p.a.createElement("div",{className:r.stickFooter},p.a.createElement(oe.a,null),p.a.createElement("a",{className:r.shareInfoContainer,href:"/Profile/"+window.shareInfo.ownerUid},p.a.createElement(re.a,{src:"/Member/Avatar/"+window.shareInfo.ownerUid+"/l",className:r.shareAvatar}),p.a.createElement("div",{className:r.ownerInfo},p.a.createElement(g.a,{noWrap:!0},window.shareInfo.ownerNick),p.a.createElement(g.a,{noWrap:!0,variant:"caption",color:"textSecondary"},"\u5206\u4eab\u4e8e",window.shareInfo.shareDate))))),o=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent);return p.a.createElement("div",null,p.a.createElement(d.a,{position:"fixed",className:r.appBar,color:this.props.selected.length<=1&&(this.props.isMultiple||!this.props.withFile)?"primary":"default"},p.a.createElement(h.a,null,(this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)||!window.isHomePage)&&!window.isSharePage&&p.a.createElement(ee.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:r.menuButton},p.a.createElement(je.a,null)),(this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)||!window.isHomePage)&&!window.isSharePage&&p.a.createElement(ee.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){return a.props.handleDesktopToggle(!a.props.desktopOpen)},className:r.menuButtonDesktop},p.a.createElement(je.a,null)),(this.props.selected.length>1||!this.props.isMultiple&&this.props.withFile)&&(window.isHomePage||window.isSharePage)&&p.a.createElement(Se.a,{in:this.props.selected.length>1||!this.props.isMultiple&&this.props.withFile},p.a.createElement(ee.a,{color:"inherit",className:r.menuIcon,onClick:function(){return a.props.setSelectedTarget([])}},p.a.createElement(F.a,null))),this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)&&p.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0},window.isSharePage&&""===window.pageId&&p.a.createElement(ge.a,{className:r.folderShareIcon}),window.siteInfo.mainTitle),!this.props.isMultiple&&this.props.withFile&&!window.isMobile&&p.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0},this.props.selected[0].name," ",(window.isHomePage||window.isSharePage)&&"("+Object(_e.f)(this.props.selected[0].size)+")"),this.props.selected.length>1&&!window.isMobile&&p.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0},this.props.selected.length,"\u4e2a\u5bf9\u8c61"),this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)&&p.a.createElement(Re.a,null),p.a.createElement("div",{className:r.grow}),(this.props.selected.length>1||!this.props.isMultiple&&this.props.withFile)&&!window.isHomePage&&!window.isSharePage&&-1!==window.userInfo.uid&&!Object(_e.c)("share")&&p.a.createElement("div",{className:r.sectionForFile},p.a.createElement(Ne.a,{title:"\u4fdd\u5b58"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.saveFile()}},p.a.createElement(Ee.a,null)))),(this.props.selected.length>1||!this.props.isMultiple&&this.props.withFile)&&(window.isHomePage||window.isSharePage)&&p.a.createElement("div",{className:r.sectionForFile},!this.props.isMultiple&&this.props.withFile&&Object(Ie.c)(this.props.selected[0].name)&&p.a.createElement(Se.a,{in:!this.props.isMultiple&&this.props.withFile&&Object(Ie.c)(this.props.selected[0].name)},p.a.createElement(Ne.a,{title:"\u6253\u5f00"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.openPreview()}},p.a.createElement(U.a,null)))),!this.props.isMultiple&&this.props.withFile&&p.a.createElement(Se.a,{in:!this.props.isMultiple&&this.props.withFile},p.a.createElement(Ne.a,{title:"\u4e0b\u8f7d"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.openDownload()}},p.a.createElement(D.a,null)))),!this.props.isMultiple&&this.props.withFolder&&p.a.createElement(Se.a,{in:!this.props.isMultiple&&this.props.withFolder},p.a.createElement(Ne.a,{title:"\u8fdb\u5165\u76ee\u5f55"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.navitateTo("/"===a.props.path?a.props.path+a.props.selected[0].name:a.props.path+"/"+a.props.selected[0].name)}},p.a.createElement(G.a,null)))),!this.props.isMultiple&&!window.isSharePage&&p.a.createElement(Se.a,{in:!this.props.isMultiple},p.a.createElement(Ne.a,{title:"\u5206\u4eab"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.openShareDialog()}},p.a.createElement(A.a,null)))),!this.props.isMultiple&&!window.isSharePage&&p.a.createElement(Se.a,{in:!this.props.isMultiple},p.a.createElement(Ne.a,{title:"\u91cd\u547d\u540d"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.openRenameDialog()}},p.a.createElement(H.a,null)))),!window.isSharePage&&p.a.createElement("div",null,!window.isMobile&&p.a.createElement(Se.a,{in:0!==this.props.selected.length&&!window.isMobile},p.a.createElement(Ne.a,{title:"\u79fb\u52a8"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.openMoveDialog()}},p.a.createElement(W.a,null)))),p.a.createElement(Se.a,{in:0!==this.props.selected.length},p.a.createElement(Ne.a,{title:"\u5220\u9664"},p.a.createElement(ee.a,{color:"inherit",onClick:function(){return a.props.openRemoveDialog()}},p.a.createElement(q.a,null)))))),this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)&&p.a.createElement(Me.a,null))),this.loadUploader(),p.a.createElement(ne.a,{smUp:!0,implementation:"css"},p.a.createElement(Z.a,{container:this.props.container,variant:"temporary",classes:{paper:r.drawerPaper},anchor:"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,onOpen:function(){return a.setState(function(e){return{mobileOpen:!0}})},disableDiscovery:o,ModalProps:{keepMounted:!0}},i)),p.a.createElement(ne.a,{xsDown:!0,implementation:"css"},p.a.createElement(Y.a,{classes:{paper:v()((t={},Object(l.a)(t,r.drawerOpen,this.props.desktopOpen),Object(l.a)(t,r.drawerClose,!this.props.desktopOpen),t))},className:v()(r.drawer,(n={},Object(l.a)(n,r.drawerOpen,this.props.desktopOpen),Object(l.a)(n,r.drawerClose,!this.props.desktopOpen),n)),variant:"persistent",anchor:"left",open:this.props.desktopOpen},p.a.createElement("div",{className:r.toolbar}),i)))}}]),n}(c.Component),Pe=Object(b.b)(function(e){return{desktopOpen:e.viewUpdate.open,selected:e.explorer.selected,isMultiple:e.explorer.selectProps.isMultiple,withFolder:e.explorer.selectProps.withFolder,withFile:e.explorer.selectProps.withFile,path:e.navigator.path,keywords:e.explorer.keywords}},function(e){return{handleDesktopToggle:function(t){e(Object(Le.f)(t))},setSelectedTarget:function(t){e(Object(Le.z)(t))},navitateTo:function(t){e(Object(Le.g)(t))},openCreateFolderDialog:function(){e(Object(Le.i)())},changeContextMenu:function(t,n){e(Object(Le.b)(t,n))},searchMyFile:function(t){e(Object(Le.v)(t))},saveFile:function(){e(Object(Le.u)())},openMusicDialog:function(){e(Object(Le.l)())},showImgPreivew:function(t){e(Object(Le.A)(t))},toggleSnackbar:function(t,n,a,r){e(Object(Le.B)(t,n,a,r))},openRenameDialog:function(){e(Object(Le.o)())},openMoveDialog:function(){e(Object(Le.k)())},openRemoveDialog:function(){e(Object(Le.n)())},openShareDialog:function(){e(Object(Le.p)())}}})(Object(w.withTheme)()(Object(w.withStyles)(function(e){var t;return{appBar:(t={marginLeft:240},Object(l.a)(t,e.breakpoints.down("xs"),{marginLeft:270}),Object(l.a)(t,"zIndex",e.zIndex.drawer+1),Object(l.a)(t,"transition"," background-color 250ms"),t),drawer:{width:0,flexShrink:0},drawerDesktop:{width:240,flexShrink:0},icon:{marginRight:2*e.spacing.unit},menuButton:Object(l.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),menuButtonDesktop:Object(l.a)({marginRight:20},e.breakpoints.down("sm"),{display:"none"}),menuIcon:{marginRight:20},toolbar:e.mixins.toolbar,drawerPaper:{width:270},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},content:{flexGrow:1,padding:3*e.spacing.unit},hiddenButton:{display:"none"},grow:{flexGrow:1},badge:{top:1,right:-15},nested:{paddingLeft:4*e.spacing.unit},sectionForFile:{display:"flex"},extendedIcon:{marginRight:e.spacing.unit},addButton:{marginLeft:"40px",marginTop:"25px",marginBottom:"15px"},fabButton:{borderRadius:"100px"},badgeFix:{right:"10px"},iconFix:{marginLeft:"16px"},dividerFix:{marginTop:"8px"},folderShareIcon:{verticalAlign:"sub",marginRight:"5px"},shareInfoContainer:{display:"flex",marginTop:"15px",marginBottom:"20px",marginLeft:"28px",textDecoration:"none"},shareAvatar:{width:"40px",height:"40px"},stickFooter:{bottom:"0px",position:"absolute",backgroundColor:e.palette.background.paper,width:"100%"},ownerInfo:{marginLeft:"10px",width:"150px"}}})(De)));t.a=Pe}).call(this,n(140))},65:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(127),c=n(0),p=n.n(c),u=n(14),d=(n(2),n(11)),m=n.n(d),h=n(5),f=n(96),g=n.n(f),w=n(103),E=n.n(w),v=n(124),b=n.n(v),O=n(107),j=n.n(O),x=n(53),y=n.n(x),k=n(125),S=n.n(k),C=n(122),N=n.n(C),I=n(126),L=n.n(I),_=n(13),A=n.n(_),R=n(123),F=n.n(R),M={success:N.a,warning:F.a,error:b.a,info:j.a};var U=Object(h.withStyles)(function(e){return{success:{backgroundColor:S.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:L.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=e.className,a=e.message,r=e.onClose,i=e.variant,o=Object(l.a)(e,["classes","className","message","onClose","variant"]),s=M[i];return p.a.createElement(g.a,Object.assign({className:m()(t[i],n),"aria-describedby":"client-snackbar",message:p.a.createElement("span",{id:"client-snackbar",className:t.message},p.a.createElement(s,{className:m()(t.icon,t.iconVariant)}),a),action:[p.a.createElement(A.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},p.a.createElement(y.a,{className:t.icon}))]},o))}),T=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},n.componentWillReceiveProps=function(e){e.snackbar.toggle!==n.props.snackbar.toggle&&n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return p.a.createElement(E.a,{anchorOrigin:{vertical:this.props.snackbar.vertical,horizontal:this.props.snackbar.horizontal},open:this.state.open,autoHideDuration:6e3,onClose:this.handleClose},p.a.createElement(U,{onClose:this.handleClose,variant:this.props.snackbar.color,message:this.props.snackbar.msg}))}}]),t}(c.Component),D=Object(u.b)(function(e){return{snackbar:e.viewUpdate.snackbar}},function(e){return{}})(Object(h.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(T));t.a=D},66:function(e,t,n){"use strict";var a=n(54),r=function(e){var t,n,a=!1;return t=e.selected.length>1,e.selected.map(function(e){"dir"===e.type?n=!0:"file"===e.type&&(a=!0)}),[t,n,a]},i=function(e,t){return Object.assign({},t,{navigator:Object.assign({},t.navigator,{path:e}),viewUpdate:Object.assign({},t.viewUpdate,{contextOpen:!1,navigatorError:!1,navigatorLoading:!0}),explorer:Object.assign({},t.explorer,{selected:[],selectProps:{isMultiple:!1,withFolder:!1,withFile:!1},keywords:null})})};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DRAWER_TOGGLE":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{open:t.open})});case"CHANGE_VIEW_METHOD":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{explorerViewMethod:t.method})});case"CHANGE_SORT_METHOD":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{sortMethod:t.method})});case"CHANGE_CONTEXT_MENU":return e.viewUpdate.contextOpen&&t.open?Object.assign({},e):Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{contextOpen:t.open,contextType:t.menuType})});case"SET_NAVIGATOR_LOADING_STATUE":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{navigatorLoading:t.status})});case"SET_NAVIGATOR_ERROR":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{navigatorError:t.status,navigatorErrorMsg:t.msg})});case"UPDATE_FILE_LIST":t.list.sort(function(t,n){switch(e.viewUpdate.sortMethod){case"sizePos":return t.size-n.size;case"sizeRes":return n.size-t.size;case"namePos":return t.name.localeCompare(n.name);case"nameRev":return n.name.localeCompare(t.name);case"timePos":return Date.parse(t.date)-Date.parse(n.date);case"timeRev":return Date.parse(n.date)-Date.parse(t.date)}});var n=t.list.filter(function(e){return"dir"===e.type}),o=t.list.filter(function(e){return"file"===e.type});return Object.assign({},e,{explorer:Object.assign({},e.explorer,{fileList:o,dirList:n})});case"ADD_SELECTED_TARGET":var s=Object.assign({},e,{explorer:Object.assign({},e.explorer,{selected:Object(a.a)(e.explorer.selected).concat([t.targets])})}),l=r(s.explorer);return Object.assign({},s,{explorer:Object.assign({},s.explorer,{selectProps:{isMultiple:l[0],withFolder:l[1],withFile:l[2]}})});case"SET_SELECTED_TARGET":return s=Object.assign({},e,{explorer:Object.assign({},e.explorer,{selected:t.targets})}),l=r(s.explorer),Object.assign({},s,{explorer:Object.assign({},s.explorer,{selectProps:{isMultiple:l[0],withFolder:l[1],withFile:l[2]}})});case"RMOVE_SELECTED_TARGET":var c=e.explorer.selected.concat();return c.splice(t.id,1),s=Object.assign({},e,{explorer:Object.assign({},e.explorer,{selected:c})}),l=r(s.explorer),Object.assign({},s,{explorer:Object.assign({},s.explorer,{selectProps:{isMultiple:l[0],withFolder:l[1],withFile:l[2]}})});case"NAVIGATOR_TO":return i(t.path,e);case"NAVIGATOR_UP":var p=e.navigator.path.split("/");p.pop();var u=1===p.length?"/":p.join("/");return i(u,e);case"OPEN_CREATE_FOLDER_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{createNewFolder:!0}),contextOpen:!1})});case"OPEN_RENAME_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{rename:!0}),contextOpen:!1})});case"OPEN_REMOVE_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{remove:!0}),contextOpen:!1})});case"OPEN_MOVE_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{move:!0}),contextOpen:!1})});case"OPEN_SHARE_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{share:!0}),contextOpen:!1})});case"OPEN_MUSIC_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{music:!0}),contextOpen:!1})});case"OPEN_REMOTE_DOWNLOAD_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{remoteDownload:!0}),contextOpen:!1})});case"OPEN_TORRENT_DOWNLOAD_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{torrentDownload:!0}),contextOpen:!1})});case"OPEN_GET_SOURCE_DIALOG":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{getSource:!0}),contextOpen:!1})});case"CLOSE_ALL_MODALS":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modals:Object.assign({},e.viewUpdate.modals,{createNewFolder:!1,rename:!1,move:!1,remove:!1,share:!1,music:!1,remoteDownload:!1,torrentDownload:!1,getSource:!1})})});case"TOGGLE_SNACKBAR":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{snackbar:{toggle:!e.viewUpdate.snackbar.toggle,vertical:t.vertical,horizontal:t.horizontal,msg:t.msg,color:t.color}})});case"SET_MODALS_LOADING":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{modalsLoading:t.status})});case"REFRESH_FILE_LIST":return Object.assign({},e,{navigator:Object.assign({},e.navigator,{refresh:!e.navigator.refresh}),explorer:Object.assign({},e.explorer,{selected:[],selectProps:{isMultiple:!1,withFolder:!1,withFile:!1}})});case"SEARCH_MY_FILE":return Object.assign({},e,{navigator:Object.assign({},e.navigator,{path:"/\u641c\u7d22\u7ed3\u679c",refresh:!e.navigator.refresh}),viewUpdate:Object.assign({},e.viewUpdate,{contextOpen:!1,navigatorError:!1,navigatorLoading:!0}),explorer:Object.assign({},e.explorer,{selected:[],selectProps:{isMultiple:!1,withFolder:!1,withFile:!1},keywords:t.keywords})});case"SHOW_IMG_PREIVEW":return Object.assign({},e,{explorer:Object.assign({},e.explorer,{imgPreview:{first:t.first,other:e.explorer.fileList}})});case"REFRESH_STORAGE":return Object.assign({},e,{viewUpdate:Object.assign({},e.viewUpdate,{storageRefresh:!e.viewUpdate.storageRefresh})});case"SAVE_FILE":return Object.assign({},e,{explorer:Object.assign({},e.explorer,{fileSave:!e.explorer.fileSave})});default:return e}}},74:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(1),c=n(0),p=n.n(c),u=n(5),d=n(113),m=n.n(d),h=n(51),f=n(63),g=n.n(f),w=n(87),E=n.n(w),v=n(83),b=n.n(v),O=n(37),j=n.n(O),x=n(24),y=n.n(x),k=n(12),S=n.n(k),C=n(15),N=n.n(C),I=n(4),L=n.n(I),_=n(36),A=n.n(_),R=n(38),F=n.n(R),M=n(14),U=n(2),T=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={anchorEl:null,input:""},n.handleChange=function(e){var t=e.currentTarget;n.input=e.target.value,n.setState({anchorEl:t,input:e.target.value})},n.cancelSuggest=function(){n.setState({input:""})},n.searchMyFile=function(){n.props.searchMyFile(n.input)},n.searchShare=function(){window.location.href="/Explore/Search/"+n.input},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.anchorEl,a=""!==this.state.input?"simple-popper":null;return p.a.createElement("div",{className:t.search},p.a.createElement("div",{className:t.searchIcon},p.a.createElement(m.a,null)),p.a.createElement(g.a,{placeholder:"\u641c\u7d22...",classes:{root:t.inputRoot,input:t.inputInput},onChange:this.handleChange,onBlur:this.cancelSuggest,value:this.state.input}),p.a.createElement(E.a,{id:a,open:""!==this.state.input,anchorEl:n,className:t.suggestBox,transition:!0},function(n){var a=n.TransitionProps;return p.a.createElement(b.a,Object.assign({},a,{timeout:350}),p.a.createElement(j.a,{square:!0},window.isHomePage&&p.a.createElement(y.a,{onClick:e.searchMyFile},p.a.createElement(S.a,{className:t.icon},p.a.createElement(A.a,null)),p.a.createElement(N.a,{classes:{primary:t.primary},primary:p.a.createElement(L.a,{noWrap:!0},"\u5728\u6211\u7684\u6587\u4ef6\u4e2d\u641c\u7d22 ",p.a.createElement("strong",null,e.state.input))})),p.a.createElement(y.a,{onClick:e.searchShare},p.a.createElement(S.a,{className:t.icon},p.a.createElement(F.a,null)),p.a.createElement(N.a,{classes:{primary:t.primary},primary:p.a.createElement(L.a,{noWrap:!0},"\u5728\u5168\u7ad9\u5206\u4eab\u4e2d\u641c\u7d22 ",p.a.createElement("strong",null,e.state.input))}))))}))}}]),t}(c.Component),D=Object(M.b)(function(e){return{}},function(e){return{searchMyFile:function(t){e(Object(U.v)(t))}}})(Object(u.withStyles)(function(e){var t;return{search:(t={},Object(l.a)(t,e.breakpoints.down("sm"),{display:"none"}),Object(l.a)(t,"position","relative"),Object(l.a)(t,"borderRadius",e.shape.borderRadius),Object(l.a)(t,"backgroundColor",Object(h.fade)(e.palette.common.white,.15)),Object(l.a)(t,"&:hover",{backgroundColor:Object(h.fade)(e.palette.common.white,.25)}),Object(l.a)(t,"marginRight",2*e.spacing.unit),Object(l.a)(t,"marginLeft",0),Object(l.a)(t,"width","100%"),Object(l.a)(t,e.breakpoints.up("sm"),{marginLeft:7.2*e.spacing.unit,width:"auto"}),t),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(l.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:7*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200,"&:focus":{width:300}}),suggestBox:{zIndex:"9999",width:364}}})(T));t.a=D},75:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(0),c=n.n(l),p=n(5),u=n(35),d=n.n(u),m=n(4),h=n.n(m),f=n(21),g=n.n(f),w=n(71),E=n.n(w),v=n(14),b=n(34),O=n.n(b),j=n(23),x=n.n(j),y=n(2),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={percent:0,used:null,total:null},n.firstLoad=!0,n.componentDidMount=function(){n.firstLoad&&(n.updateStatus(),n.firstLoad=!n.firstLoad)},n.componentWillReceiveProps=function(e){n.props.refresh!==e.refresh&&n.updateStatus()},n.updateStatus=function(){var e=0;O.a.get("/Member/Memory").then(function(t){t.data.rate>=100?(e=100,n.props.toggleSnackbar("top","right","\u60a8\u7684\u5df2\u7528\u5bb9\u91cf\u5df2\u8d85\u8fc7\u5bb9\u91cf\u914d\u989d\uff0c\u8bf7\u5c3d\u5feb\u5220\u9664\u591a\u4f59\u6587\u4ef6\u6216\u8d2d\u4e70\u5bb9\u91cf","warning")):e=t.data.rate,n.setState({percent:e,used:t.data.used,total:t.data.total})}).catch(function(e){})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return window.isMobile?c.a.createElement("div",{className:e.storageContainer},c.a.createElement(E.a,{className:e.iconFix}),c.a.createElement("div",{className:e.detail},"\u5b58\u50a8\u7a7a\u95f4",c.a.createElement(d.a,{className:e.bar,color:"secondary",variant:"determinate",value:this.state.percent}),c.a.createElement("div",{className:e.info},c.a.createElement(x.a,{title:"\u5df2\u4f7f\u7528"+(null===this.state.used?" -- ":this.state.used)+"\uff0c\u5171"+(null===this.state.total?" -- ":this.state.total),placement:"top"},c.a.createElement(h.a,{variant:"caption",noWrap:!0,color:"textSecondary"},"\u5df2\u4f7f\u7528",null===this.state.used?" -- ":this.state.used,"\uff0c\u5171",null===this.state.total?" -- ":this.state.total))))):c.a.createElement("div",{className:e.stickFooter},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.storageContainer},c.a.createElement(E.a,{className:e.iconFix}),c.a.createElement("div",{className:e.detail},"\u5b58\u50a8\u7a7a\u95f4",c.a.createElement(d.a,{className:e.bar,color:"secondary",variant:"determinate",value:this.state.percent}),c.a.createElement("div",{className:e.info},c.a.createElement(x.a,{title:"\u5df2\u4f7f\u7528"+(null===this.state.used?" -- ":this.state.used)+"\uff0c\u5171"+(null===this.state.total?" -- ":this.state.total),placement:"top"},c.a.createElement(h.a,{variant:"caption",noWrap:!0,color:"textSecondary"},"\u5df2\u4f7f\u7528",null===this.state.used?" -- ":this.state.used,"\uff0c\u5171",null===this.state.total?" -- ":this.state.total))))))}}]),t}(l.Component),S=Object(v.b)(function(e){return{refresh:e.viewUpdate.storageRefresh}},function(e){return{toggleSnackbar:function(t,n,a,r){e(Object(y.B)(t,n,a,r))}}})(Object(p.withStyles)(function(e){return{iconFix:{marginLeft:"32px",marginRight:"32px",color:e.palette.text.secondary,marginTop:"2px"},textFix:{padding:" 0 0 0 16px"},storageContainer:{display:"flex",marginTop:"15px",marginBottom:"20px"},detail:{width:"100%",marginRight:"20px"},info:{width:"131px",marginTop:"5px"},bar:{marginTop:"5px"},stickFooter:{bottom:"0px",position:"absolute",backgroundColor:e.palette.background.paper}}})(k));t.a=S},76:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(1),c=n(0),p=n.n(c),u=n(5),d=n(28),m=n.n(d),h=n(14),f=n(30),g=n.n(f),w=n(13),E=n.n(w),v=n(70),b=n.n(v),O=n(114),j=n.n(O),x=n(4),y=n.n(x),k=n(99),S=n.n(k),C=n(12),N=n.n(C),I=n(24),L=n.n(I),_=n(21),A=n.n(_),R=n(16),F=(n(2),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={anchorEl:null},n.showUserInfo=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.openURL=function(e){window.location.href=e},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return p.a.createElement("div",{className:t.mobileHidden},p.a.createElement(m.a,{in:this.props.selected.length<=1&&!(!this.props.isMultiple&&this.props.withFile)},p.a.createElement("div",null,-1!==window.userInfo.uid&&p.a.createElement(E.a,{onClick:function(){return window.location.href="/Member/Setting"},color:"inherit"},p.a.createElement(j.a,null)),p.a.createElement(E.a,{color:"inherit",onClick:this.showUserInfo},-1===window.userInfo.uid&&p.a.createElement(R.b,null),-1!==window.userInfo.uid&&p.a.createElement(g.a,{src:"/Member/Avatar/"+window.userInfo.uid+"/s",className:t.avatar}))," ")),p.a.createElement(b.a,{open:null!==this.state.anchorEl,onClose:this.handleClose,anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},-1===window.userInfo.uid&&p.a.createElement("div",{className:t.visitorMenu},p.a.createElement(A.a,null),p.a.createElement(L.a,{onClick:function(){return e.openURL("/Login")}},p.a.createElement(N.a,null,p.a.createElement(R.a,null)),"\u767b\u5f55"),p.a.createElement(L.a,{onClick:function(){return e.openURL("/Signup")}},p.a.createElement(N.a,null,p.a.createElement(R.c,null)),"\u6ce8\u518c")),-1!==window.userInfo.uid&&p.a.createElement("div",null,p.a.createElement("div",{className:t.header},p.a.createElement("div",{className:t.largeAvatarContainer},p.a.createElement(g.a,{className:t.largeAvatar,src:"/Member/Avatar/"+window.userInfo.uid+"/l"})),p.a.createElement("div",{className:t.info},p.a.createElement(y.a,{noWrap:!0},window.userInfo.nick),p.a.createElement(y.a,{color:"textSecondary",noWrap:!0},window.userInfo.email),p.a.createElement(S.a,{className:t.badge,color:1===window.userInfo.groupId?"secondary":"default",label:window.userInfo.group}))),p.a.createElement("div",null,p.a.createElement(A.a,null),p.a.createElement(L.a,{onClick:function(){return e.openURL("/Profile/"+window.userInfo.uid)}},p.a.createElement(N.a,null,p.a.createElement(R.i,null)),"\u4e2a\u4eba\u4e3b\u9875"),1===window.userInfo.groupId&&p.a.createElement(L.a,{onClick:function(){return e.openURL("/Admin")}},p.a.createElement(N.a,null,p.a.createElement(R.e,null)),"\u7ba1\u7406\u9762\u677f"),p.a.createElement(L.a,{onClick:function(){return e.openURL("/Member/LogOut")}},p.a.createElement(N.a,null,p.a.createElement(R.j,null)),"\u9000\u51fa")))))}}]),t}(c.Component)),M=Object(h.b)(function(e){return{selected:e.explorer.selected,isMultiple:e.explorer.selectProps.isMultiple,withFolder:e.explorer.selectProps.withFolder,withFile:e.explorer.selectProps.withFile}},function(e){return{}})(Object(u.withStyles)(function(e){return{mobileHidden:Object(l.a)({},e.breakpoints.down("xs"),{display:"none"}),avatar:{width:"30px",height:"30px"},header:{display:"flex",padding:"20px 20px 20px 20px"},largeAvatar:{height:"90px",width:"90px"},info:{marginLeft:"10px",width:"139px"},badge:{marginTop:"10px"},visitorMenu:{width:200}}})(F));t.a=M},77:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(0),c=n.n(l),p=n(5),u=n(14),d=n(4),m=n.n(d),h=(n(2),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.userNav},c.a.createElement("div",{className:e.flexAvatar},c.a.createElement("a",{href:"/Profile/"+window.userInfo.uid,className:e.avatar},-1!==window.userInfo.uid&&c.a.createElement("img",{alt:"avatar",src:"/Member/Avatar/"+window.userInfo.uid+"/l",className:e.avatarImg}),-1===window.userInfo.uid&&c.a.createElement("img",{alt:"avatar",src:"/Member/Avatar/0/l",className:e.avatarImg}))),c.a.createElement("div",{className:e.storageCircle},c.a.createElement(m.a,{className:e.nickName,component:"h2",noWrap:!0},window.userInfo.nick),c.a.createElement(m.a,{className:e.groupName,component:"h2",color:"textSecondary",noWrap:!0},window.userInfo.group)))}}]),t}(l.Component)),f=Object(u.b)(function(e){return{}},function(e){return{}})(Object(p.withStyles)(function(e){return{userNav:{height:"170px",backgroundColor:e.palette.primary.main,padding:"20px 20px 2em",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='"+e.palette.primary.light.replace("#","%23")+"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='"+e.palette.primary.dark.replace("#","%23")+"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='"+e.palette.secondary.main.replace("#","%23")+"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='"+e.palette.secondary.dark.replace("#","%23")+"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='"+e.palette.secondary.light.replace("#","%23")+"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='"+e.palette.secondary.main.replace("#","%23")+"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='"+e.palette.primary.dark.replace("#","%23")+"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='"+e.palette.primary.main.replace("#","%23")+"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='"+e.palette.secondary.light.replace("#","%23")+"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='"+e.palette.secondary.dark.replace("#","%23")+"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='"+e.palette.secondary.main.replace("#","%23")+"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='"+e.palette.secondary.dark.replace("#","%23")+"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\")",backgroundSize:"cover"},avatar:{display:"block",width:"80px",height:"80px",border:" 2px solid #fff",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)"},avatarImg:{width:"80px",height:"80px"},nickName:{color:"#fff",marginLeft:"10px",marginTop:"15px",fontSize:"17px"},flexAvatar:{display:"flex"},groupName:{marginLeft:"10px",color:"#ffffff8a"},storageCircle:{width:"200px"}}})(h));t.a=f},78:function(e,t,n){"use strict";var a=n(6),r=n(7),i=n(9),o=n(8),s=n(10),l=n(0),c=n.n(l),p=n(110),u=n(54),d=n(111),m=n.n(d),h=function(e){return"function"===typeof e},f=function(e){},g=function(e){return function(t){var n=document.createElement("script");if("object"===typeof e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);e=e.src}else n.src=e;return n.addEventListener("load",function(){return t(null,e)}),n.addEventListener("error",function(){return t(!0,e)}),document.body.appendChild(n),n}},w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var a,r,i=function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}(t=t.filter(function(e){return null!=e})),o=function(){var n=i.next(),a=t[n];return Array.isArray(a)&&(a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var a=!1,r=0,i=[];(t=t.filter(h)).length<=0?n(null):t.forEach(function(o,s){o(function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),p=1;p<l;p++)c[p-1]=arguments[p];o?a=!0:(c.length<=1&&(c=c[0]),i[s]=c,r++),h(e)&&e.call(null,o,c,s),a?n(!0):t.length===r&&n(null,i)})})}}}.apply(null,a).call(null,e)),[+n,a]},s=o();if(a=s[0],null==(r=s[1]))return n(null);var l=[];!function t(){r(function(i){for(var c=arguments.length,p=new Array(c>1?c-1:0),u=1;u<c;u++)p[u-1]=arguments[u];if(p.length<=1&&(p=p[0]),h(e)&&e.call(null,i,p,a),i)n(i);else{if(l.push(p),s=o(),a=s[0],null==(r=s[1]))return n(null,l);t()}})}()}}},E=[],v={},b=[];var O=function(e){E.indexOf(e)<0&&E.push(e)},j=function(){b.length>0&&(b.forEach(function(e){var t=document.querySelector("script[src='".concat(e,"']"));null!=t&&t.parentNode.removeChild(t)}),b=[])},x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function l(e,t){var n;return Object(a.a)(this,l),(n=Object(i.a)(this,Object(o.a)(l).call(this,e,t))).state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return Object(s.a)(l,n),Object(r.a)(l,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=function(e){var t="object"===typeof e?e.src:e;if(E.indexOf(t)<0)return function(n){var a=v[t]||[];if(a.push(n),v[t]=a,1===a.length)return g(e)(function(e){v[t].forEach(function(n){return n(e,t)}),delete v[t]})}},a=e.map(function(e){return Array.isArray(e)?e.map(n):n(e)});w.apply(void 0,Object(u.a)(a))(function(e,t){e?b.push(t):Array.isArray(t)?t.forEach(O):O(t)})(function(e){j(),t(e)})}(t,function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},function(){t||e.props.onScriptLoaded()})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getWrappedInstance",value:function(){return this.refs.wrappedInstance}},{key:"render",value:function(){var t=Object(p.a)({},this.props,this.state,{ref:"wrappedInstance"});return c.a.createElement(e,t)}}]),l}(l.Component);return n.defaultProps={onScriptLoaded:f},m()(n,e)}},y=n(14),k=n(2),S=n(1),C=n(5),N=n(44),I=n.n(N),L=n(15),_=n.n(L),A=n(22),R=n.n(A),F=n(47),M=n.n(F),U=n(21),T=n.n(U),D=n(49),P=n.n(D),G=n(50),B=n.n(G),H=n(13),z=n.n(H),W=n(4),V=n.n(W),q=n(53),Q=n.n(q),K=n(36),X=n.n(K),Y=n(52),J=n.n(Y),Z=n(56),$=n.n(Z),ee=n(112),te=n.n(ee),ne=n(35),ae=n.n(ne),re=n(89),ie=n.n(re),oe=n(30),se=n.n(oe),le=n(55),ce=n.n(le),pe=n(48),ue=n.n(pe),de=n(67),me=n.n(de),he=n(45),fe=n.n(he),ge=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1,files:[]},n.openFileList=function(){n.state.open||n.setState({open:!0})},n.cancelUpload=function(e){n.props.cancelUpload(e),n.deQueue(e)},n.handleClose=function(){n.setState({open:!1})},n.addNewFile=function(){document.getElementsByClassName("uploadForm")[0].click()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"enQueue",value:function(e){var t=this.state.files;-1===t.findIndex(function(t){return t.id===e.id})&&(t.push(e),this.setState({files:t})),console.log(this.state)}},{key:"deQueue",value:function(e){var t=this.state.files,n=t.findIndex(function(t){return t.id===e.id});-1!==n&&(t.splice(n,1),this.setState({files:t}))}},{key:"updateStatus",value:function(e){var t=this.state.files,n=t.findIndex(function(t){return t.id===e.id});-1!==n&&4!==t[n].status&&(t[n]=e,this.setState({files:t}))}},{key:"setComplete",value:function(e){var t=this.state.files,n=t.findIndex(function(t){return t.id===e.id});-1!==n&&4!==t[n].status&&(t[n].status=5,this.setState({files:t}))}},{key:"setError",value:function(e,t){var n=this.state.files,a=n.findIndex(function(t){return t.id===e.id});-1!==a?(n[a].status=4,n[a].errMsg=t):(e.status=4,e.errMsg=t,n.push(e)),this.setState({files:n})}},{key:"Transition",value:function(e){return c.a.createElement(ie.a,Object.assign({direction:"up"},e))}},{key:"render",value:function(){var e=this.props.classes,t=this.props.width,n={image:["jpg","bpm","png","gif","jpeg","webp","svg"],video:["mp4","rmvb","flv","avi"],audio:["mp3","ogg","flac","aac"]};this.props.inRef({openFileList:this.openFileList.bind(this),enQueue:this.enQueue.bind(this),updateStatus:this.updateStatus.bind(this),setComplete:this.setComplete.bind(this),setError:this.setError.bind(this)});var a=this.state.files.map(function(t,a){var r,i,o=this;return i=-1!==n.image.indexOf(t.name.split(".").pop())?c.a.createElement(J.a,null):-1!==n.video.indexOf(t.name.split(".").pop())?c.a.createElement($.a,null):-1!==n.audio.indexOf(t.name.split(".").pop())?c.a.createElement(J.a,null):c.a.createElement(X.a,null),r=5===t.status?c.a.createElement(_.a,{primary:t.name,secondary:c.a.createElement("div",{className:e.successStatus},"\u5df2\u5b8c\u6210",c.a.createElement("br",null))}):2===t.status?c.a.createElement(_.a,{primary:t.name,secondary:c.a.createElement("div",null,window.plupload.formatSize(t.speed).toUpperCase(),"/s \u5df2\u4e0a\u4f20 ",window.plupload.formatSize(t.loaded).toUpperCase()," , \u5171 ",window.plupload.formatSize(t.size).toUpperCase()," - ",t.percent,"% ",c.a.createElement("br",null),c.a.createElement(ae.a,{variant:"determinate",value:t.percent,className:e.progressBar}))}):1===t.status?c.a.createElement(_.a,{primary:t.name,secondary:c.a.createElement("div",null,"\u6392\u961f\u4e2d",c.a.createElement("br",null),c.a.createElement(ae.a,{className:e.progressBar}))}):4===t.status?c.a.createElement(_.a,{primary:t.name,secondary:c.a.createElement("div",{className:e.errorStatus},t.errMsg,c.a.createElement("br",null))}):c.a.createElement(_.a,{primary:t.name,secondary:t.status}),c.a.createElement("div",{key:a},c.a.createElement(R.a,{button:!0},c.a.createElement(se.a,null,i),r,c.a.createElement(ce.a,null,c.a.createElement(z.a,{"aria-label":"Delete",onClick:function(){return o.cancelUpload(t)}},c.a.createElement(ue.a,null)))),c.a.createElement(T.a,null))},this);return c.a.createElement(I.a,{fullScreen:Object(de.isWidthDown)("sm",t),open:this.state.open,onClose:this.handleClose,TransitionComponent:this.Transition},c.a.createElement(P.a,{className:e.appBar},c.a.createElement(B.a,null,c.a.createElement(z.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},c.a.createElement(Q.a,null)),c.a.createElement(V.a,{variant:"h6",color:"inherit",className:e.flex},"\u4e0a\u4f20\u961f\u5217"),c.a.createElement(z.a,{color:"inherit",onClick:this.addNewFile},c.a.createElement(te.a,null)))),c.a.createElement(fe.a,{className:e.dialogContent},c.a.createElement(M.a,{className:e.minHight},a)))}}]),t}(l.Component),we=Object(C.withStyles)(function(e){return{appBar:{position:"relative"},flex:{flex:1},progressBar:{marginTop:5},minHight:Object(S.a)({},e.breakpoints.up("sm"),{minWidth:500}),dialogContent:{padding:0},successStatus:{marginBottom:10,color:"#4caf50"},errorStatus:{marginBottom:10,color:"#ff5722"}}})(me()()(ge)),Ee=!1,ve=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).openFileList=function(){n.fileList.openFileList()},n.state={queued:0},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setRef",value:function(e){this.fileList=e}},{key:"cancelUpload",value:function(e){this.uploader.removeFile(e)}},{key:"shouldComponentUpdate",value:function(e,t){return t.queued!==this.state.queued&&this.props.queueChange(t.queued),!1}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.isScriptLoaded,a=e.isScriptLoadSucceed;if(n&&!this.props.isScriptLoaded)if(a){if(Ee)return;Ee=!0,this.uploader=window.Qiniu.uploader({runtimes:"html5",browse_button:"pickfiles",container:"container",drop_element:"container",max_file_size:window.uploadConfig.maxSize,dragdrop:!0,chunk_size:window.ChunkSize,filters:{mime_types:window.uploadConfig.allowedType},multi_selection:!("ios"===window.moxie.core.utils.Env.OS.toLowerCase()),uptoken_url:"/Upload/Token",domain:"s",get_new_uptoken:!0,auto_start:!0,log_level:5,init:{FilesAdded:function(e){e.up;var n=e.files;t.fileList.openFileList(),window.plupload.each(n,function(e){window.pathCache[e.id]=t.props.path,t.fileList.enQueue(e)}),console.log(window.pathCache)},BeforeUpload:function(e,t){},QueueChanged:function(e){t.setState({queued:e.total.queued})},UploadProgress:function(e,n){t.fileList.updateStatus(n)},UploadComplete:function(e,n){0!==n.length&&5===n[0].status&&(t.fileList.setComplete(n[0]),t.props.refreshFileList(),t.props.refreshStorage())},FileUploaded:function(e,t,n){},Error:function(e,n,a){t.fileList.openFileList(),t.fileList.setError(n.file,a)},FilesRemoved:function(e,t){}}})}else this.onError()}},{key:"componentDidMount",value:function(){var e=this.props;e.isScriptLoaded,e.isScriptLoadSucceed}},{key:"onError",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(we,{inRef:this.setRef.bind(this),cancelUpload:this.cancelUpload.bind(this)}))}}]),t}(l.Component),be=Object(y.b)(function(e){return{path:e.navigator.path}},function(e){return{refreshFileList:function(){e(Object(k.r)())},refreshStorage:function(){e(Object(k.s)())}}},null,{forwardRef:!0})(x(["/static/js/uploader/moxie.js"],["/static/js/uploader/plupload.dev.js"],["/static/js/uploader/i18n/zh_CN.js"],["/static/js/uploader/ui.js"],["/static/js/uploader/uploader.js"])(ve));t.a=be}}]);
//# sourceMappingURL=2.chunk.js.map