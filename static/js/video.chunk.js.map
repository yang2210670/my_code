{"version":3,"sources":["config.js","actions/index.js","untils/index.js","component/Viewer/video.js","pages/video.app.js","pages/video.js","component/Navbar.js","component/Snackbar.js","reducers/index.js","component/SearchBar.js","component/StorageBar.js","component/UserAvatar.js","component/UserInfo.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Uploader.js"],"names":["__webpack_require__","d","__webpack_exports__","imgPreviewSuffix","editSuffix","mediaType","isPreviewable","isTorrent","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","directOpenPreviewSuffix","audio","video","image","pdf","word","ppt","excel","text","torrent","zip","excute","android","name","suffix","split","pop","toLowerCase","indexOf","navitateTo","navitateUp","drawerToggleAction","changeViewMethod","changeSortMethod","updateFileList","changeContextMenu","addSelectedTarget","setSelectedTarget","removeSelectedTarget","setNavigatorLoadingStatus","setNavigatorError","openCreateFolderDialog","openRenameDialog","openMoveDialog","openRemoveDialog","openShareDialog","openMusicDialog","openRemoteDownloadDialog","openTorrentDownloadDialog","openGetSourceDialog","closeAllModals","toggleSnackbar","setModalsLoading","refreshFileList","searchMyFile","showImgPreivew","refreshStorage","saveFile","path","type","open","method","list","menuType","targets","id","status","msg","vertical","horizontal","color","keywords","first","sizeToString","setCookie","setGetParameter","allowSharePreview","checkGetParameters","changeThemeColor","bytes","i","Math","floor","log","pow","toFixed","value","days","date","Date","setTime","getTime","document","cookie","paramName","paramValue","url","window","location","href","hash","replace","prefix","substring","history","pushState","isSharePage","shareInfo","allowPreview","userInfo","uid","field","querySelector","setAttribute","VideoViewer","classes","this","props","react_default","a","createElement","className","layout","Paper_default","root","elevation","lib_default","player","videoInfo","Component","withStyles","theme","Object","defineProperty","width","marginTop","marginLeft","spacing","unit","marginRight","breakpoints","up","borderRadius","createMuiTheme","colorTheme","VideoApp","Fragment","core_styles","CssBaseline_default","Snackbar","Navbar","content","toolbar","display","flexGrow","padding","minWidth","mixins","defaultStatus","navigator","refresh","viewUpdate","isHomePage","explorerViewMethod","sortMethod","contextType","menuOpen","navigatorLoading","navigatorError","navigatorErrorMsg","modalsLoading","storageRefresh","modals","createNewFolder","rename","move","remove","share","music","remoteDownload","torrentDownload","snackbar","toggle","explorer","fileList","dirList","selected","selectProps","isMultiple","withFolder","withFile","imgPreview","other","store","createStore","cloureveApp","ReactDOM","render","es","video_app","getElementById","NavbarCompoment","_this","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentDidMount","length","palette","primary","main","background","default","componentWillReceiveProps","nextProps","handleDrawerToggle","setState","state","mobileOpen","clickUpload","queued","UploaderRef","current","getWrappedInstance","openFileList","updateQueueStatus","filterFile","openPreview","previewPath","apiURL","docPreiview","encodeURIComponent","preview","shareId","openDownload","downloadPath","download","React","createRef","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","_Uploader_js__WEBPACK_IMPORTED_MODULE_47__","queueChange","ref","_classNames","_classNames2","_this3","drawer","isMobile","_UserInfo__WEBPACK_IMPORTED_MODULE_51__","addButton","_material_ui_core_Badge__WEBPACK_IMPORTED_MODULE_41___default","badgeContent","badge","badgeFix","invisible","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_26___default","disabled","variant","size","onClick","fabButton","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_16___default","extendedIcon","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_33___default","button","key","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_34___default","_material_ui_icons_FolderShared__WEBPACK_IMPORTED_MODULE_37___default","iconFix","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_35___default","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_39___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_32___default","hiddenButton","_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_36___default","_material_ui_icons_VideoLibrary__WEBPACK_IMPORTED_MODULE_13___default","iconVideo","_material_ui_icons_Collections__WEBPACK_IMPORTED_MODULE_15___default","iconImg","_material_ui_icons_LibraryMusic__WEBPACK_IMPORTED_MODULE_14___default","iconAudio","_material_ui_icons_FileCopy__WEBPACK_IMPORTED_MODULE_17___default","iconDoc","dividerFix","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_18___default","inset","_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_21___default","_StorageBar__WEBPACK_IMPORTED_MODULE_49__","mdi_material_ui__WEBPACK_IMPORTED_MODULE_52__","stickFooter","shareInfoContainer","ownerUid","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_31___default","src","shareAvatar","ownerInfo","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_9___default","noWrap","ownerNick","shareDate","iOS","process","browser","test","userAgent","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_7___default","position","appBar","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_29___default","aria-label","menuButton","_material_ui_icons_Menu__WEBPACK_IMPORTED_MODULE_40___default","handleDesktopToggle","desktopOpen","menuButtonDesktop","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_42___default","in","menuIcon","_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_19___default","pageId","folderShareIcon","siteInfo","mainTitle","_SearchBar__WEBPACK_IMPORTED_MODULE_48__","grow","sectionForFile","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_43___default","title","_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_38___default","_material_ui_icons_OpenInNew__WEBPACK_IMPORTED_MODULE_20___default","_material_ui_icons_FolderOpen__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_icons_BorderColor__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_icons_Input__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_25___default","_UserAvatar__WEBPACK_IMPORTED_MODULE_50__","loadUploader","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_30___default","smUp","implementation","_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_28___default","container","paper","drawerPaper","anchor","onClose","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","_material_ui_core_Drawer__WEBPACK_IMPORTED_MODULE_27___default","classNames","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","drawerOpen","drawerClose","connect","dispatch","withTheme","_appBar","down","zIndex","flexShrink","drawerDesktop","icon","transition","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","overflowX","top","right","nested","paddingLeft","marginBottom","verticalAlign","textDecoration","height","bottom","backgroundColor","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","green","dark","amber","fontSize","iconVariant","opacity","message","alignItems","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","Icon","_material_ui_core_SnackbarContent__WEBPACK_IMPORTED_MODULE_11___default","assign","aria-describedby","action","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_19___default","close","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default","SnackbarCompoment","handleClose","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_12___default","anchorOrigin","autoHideDuration","AlertBar","margin","checkSelectedProps","map","doNavigate","contextOpen","cloudreveApp","arguments","undefined","sort","b","localeCompare","parse","filter","x","newState","_home_travis_build_cloudreve_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","selectedProps","oldSelected","splice","pathSplit","newPath","join","getSource","fileSave","SearchBarCompoment","anchorEl","input","handleChange","event","currentTarget","target","cancelSuggest","searchShare","search","searchIcon","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","placeholder","inputRoot","inputInput","onChange","onBlur","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_11___default","suggestBox","_ref","TransitionProps","_material_ui_core_Fade__WEBPACK_IMPORTED_MODULE_12___default","timeout","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_13___default","square","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_icons_InsertDriveFile__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_19___default","SearchBar","_search","shape","fade","common","white","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","&:focus","StorageBarCompoment","percent","used","total","firstLoad","updateStatus","axios","get","then","response","data","rate","catch","react__WEBPACK_IMPORTED_MODULE_5___default","storageContainer","_material_ui_icons_Storage__WEBPACK_IMPORTED_MODULE_10___default","detail","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","bar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_13___default","placement","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_9___default","StorageBar","secondary","textFix","UserAvatarCompoment","showUserInfo","e","openURL","mobileHidden","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_Settings__WEBPACK_IMPORTED_MODULE_13___default","mdi_material_ui__WEBPACK_IMPORTED_MODULE_19__","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_10___default","avatar","_material_ui_core_Popover__WEBPACK_IMPORTED_MODULE_12___default","transformOrigin","visitorMenu","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_16___default","header","largeAvatarContainer","largeAvatar","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","nick","email","_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_15___default","groupId","label","group","UserAvatar","UserInfoCompoment","userNav","flexAvatar","alt","avatarImg","storageCircle","nickName","component","groupName","UserInfo","backgroundImage","light","backgroundSize","border","overflow","boxShadow","isFunction","val","noop","_","newScript","cb","scriptElem","prototype","hasOwnProperty","addEventListener","body","appendChild","series","_len3","tasks","Array","_key3","each","thunk","nextKey","cols","keys","next","keyIterator","nextThunk","isArray","_len","_key","hasError","successed","ret","forEach","task","err","_len2","args","_key2","apply","iterator","_len4","_key4","push","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","scriptLoader","scripts","WrappedComponent","ScriptLoader","_Component","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","isScriptLoaded","isScriptLoadSucceed","_isMounted","inherits","createClass","onComplete","loadNewScript","taskComplete","callbacks","toConsumableArray","startLoadingScripts","onScriptLoaded","refs","wrappedInstance","objectSpread","defaultProps","hoistStatics","FileList","files","cancelUpload","file","deQueue","addNewFile","getElementsByClassName","click","filesNow","findIndex","console","fileID","f","errMsg","Slide_default","direction","fileIcon","inRef","bind","enQueue","setComplete","setError","listContent","item","progressItem","queueIcon","MusicNote_default","Videocam_default","InsertDriveFile_default","ListItemText_default","successStatus","plupload","formatSize","speed","toUpperCase","loaded","LinearProgress_default","progressBar","errorStatus","ListItem_default","Avatar_default","ListItemSecondaryAction_default","IconButton_default","Delete_default","Divider_default","Dialog_default","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar_default","Toolbar_default","Close_default","Typography_default","flex","AddCircleOutline_default","DialogContent_default","dialogContent","List_default","minHight","withWidth","UploaderCompoment","uploader","removeFile","nextState","Qiniu","runtimes","browse_button","drop_element","max_file_size","uploadConfig","maxSize","dragdrop","chunk_size","ChunkSize","filters","mime_types","allowedType","multi_selection","moxie","core","utils","Env","OS","uptoken_url","domain","get_new_uptoken","auto_start","log_level","init","FilesAdded","_ref2","pathCache","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","FileUploaded","Error","errTip","FilesRemoved","onError","_this$props","Upload_FileList","setRef","Uploader","forwardRef"],"mappings":"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","file":"static/js/video.chunk.js","sourcesContent":["export const imgPreviewSuffix = [\"bmp\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"svg\",\"webp\"];\nexport const msDocPreviewSuffix = [\"ppt\",\"pptx\",\"pps\",\"doc\",\"docx\",\"xlsx\",\"xls\"];\nexport const audioPreviewSuffix = [\"mp3\",\"ogg\"];\nexport const videoPreviewSuffix = [\"mp4\"];\nexport const directOpenPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\",\"html\",\"sql\",\"go\",\"py\",\"js\",\"json\",\"c\",\"cpp\",\"css\",\"txt\"];\nexport const mediaType = {\n    audio:[\"mp3\",\"flac\",\"ape\",\"wav\",\"acc\",\"ogg\"],\n    video:[\"mp4\",\"flv\",\"avi\",\"wmv\",\"mkv\",\"rm\",\"rmvb\",\"mov\",\"ogv\"],\n    image:[\"bmp\",\"iff\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"psd\",\"svg\",\"webp\"],\n    pdf:[\"pdf\"],\n    word:[\"doc\",\"docx\"],\n    ppt:[\"ppt\",\"pptx\"],\n    excel:[\"xls\",\"xlsx\",\"csv\"],\n    text:[\"txt\",\"md\",\"html\"],\n    torrent:[\"torrent\"],\n    zip:[\"zip\",\"gz\",\"tar\",\"rar\",\"7z\"],\n    excute:[\"exe\"],\n    android:[\"apk\"],\n};\nexport const isPreviewable = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(imgPreviewSuffix.indexOf(suffix)!==-1){\n        return \"img\";\n    }else if(msDocPreviewSuffix.indexOf(suffix)!==-1){\n        return \"msDoc\";\n    }else if(audioPreviewSuffix.indexOf(suffix)!==-1){\n        return \"audio\";\n    }else if(directOpenPreviewSuffix.indexOf(suffix)!==-1){\n        return \"open\";\n    }else if(videoPreviewSuffix.indexOf(suffix)!==-1){\n        return \"video\";\n    }else if(editSuffix.indexOf(suffix)!==-1){\n        return \"edit\";\n    }\n    return false;\n}\nexport const isTorrent = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(mediaType.torrent.indexOf(suffix)!==-1){\n        return true;\n    }\n    return false;\n}\n","export const navitateTo = path => {\n    return {\n        type: 'NAVIGATOR_TO',\n        path:path,\n    }\n}\n\nexport const navitateUp = () => {\n    return {\n        type: 'NAVIGATOR_UP',\n    }\n}\n\nexport const drawerToggleAction = open => {\n    return {\n        type: 'DRAWER_TOGGLE',\n        open:open,\n    }\n}\n\nexport const changeViewMethod = method => {\n    return {\n        type: 'CHANGE_VIEW_METHOD',\n        method:method,\n    }\n}\n\nexport const changeSortMethod = method => {\n    return {\n        type: 'CHANGE_SORT_METHOD',\n        method:method,\n    }\n}\n\nexport const updateFileList = list => {\n    return {\n        type: 'UPDATE_FILE_LIST',\n        list:list,\n    }\n}\n\nexport const changeContextMenu = (type,open) => {\n    return {\n        type: 'CHANGE_CONTEXT_MENU',\n        menuType:type,\n        open:open,\n    }\n}\n\nexport const addSelectedTarget = targets => {\n    return {\n        type: 'ADD_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const setSelectedTarget = targets => {\n    return {\n        type: 'SET_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const removeSelectedTarget = id => {\n    return {\n        type: 'RMOVE_SELECTED_TARGET',\n        id:id,\n    }\n}\n\nexport const setNavigatorLoadingStatus = status => {\n    return {\n        type: 'SET_NAVIGATOR_LOADING_STATUE',\n        status:status,\n    }\n}\n\nexport const setNavigatorError = (status,msg) => {\n    return {\n        type: 'SET_NAVIGATOR_ERROR',\n        status:status,\n        msg:msg,\n    }\n}\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: 'OPEN_CREATE_FOLDER_DIALOG',\n    }\n}\n\nexport const openRenameDialog = () => {\n    return {\n        type: 'OPEN_RENAME_DIALOG',\n    }\n}\n\nexport const openMoveDialog = () => {\n    return {\n        type: 'OPEN_MOVE_DIALOG',\n    }\n}\n\nexport const openRemoveDialog = () => {\n    return {\n        type: 'OPEN_REMOVE_DIALOG',\n    }\n}\n\nexport const openShareDialog = () => {\n    return {\n        type: 'OPEN_SHARE_DIALOG',\n    }\n}\n\nexport const openMusicDialog = () => {\n    return {\n        type: 'OPEN_MUSIC_DIALOG',\n    }\n}\n\nexport const openRemoteDownloadDialog = ()=>{\n    return {\n        type:'OPEN_REMOTE_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openTorrentDownloadDialog = ()=>{\n    return {\n        type:'OPEN_TORRENT_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openGetSourceDialog = ()=>{\n    return {\n        type:'OPEN_GET_SOURCE_DIALOG',\n    }\n}\n\nexport const closeAllModals = () => {\n    return {\n        type: 'CLOSE_ALL_MODALS',\n    }\n}\n\nexport const toggleSnackbar = (vertical,horizontal,msg,color) => {\n    return {\n        type: 'TOGGLE_SNACKBAR',\n        vertical:vertical,\n        horizontal:horizontal,\n        msg:msg,\n        color:color,\n    }\n}\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: 'SET_MODALS_LOADING',\n        status:status,\n    }\n}\n\nexport const refreshFileList = () => {\n    return {\n        type: 'REFRESH_FILE_LIST',\n    }\n}\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: 'SEARCH_MY_FILE',\n        keywords: keywords,\n    }\n}\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: 'SHOW_IMG_PREIVEW',\n        first: first,\n    }\n}\n\nexport const refreshStorage = () => {\n    return {\n        type: 'REFRESH_STORAGE',\n    }\n}\n\nexport const saveFile = () => {\n    return {\n        type: 'SAVE_FILE',\n    }\n}","export const sizeToString = (bytes) => {\n    if (bytes === 0) return '0 B';\n    var k = 1024;\n    var sizes = ['B','KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + ' ' + sizes[i]; \n}\n\nexport const setCookie = (name,value,days)=>{\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n    }\n    document.cookie = name + \"=\" + (value || \"\") +\"; path=/\"; \n}\n\nexport const setGetParameter = (paramName, paramValue) =>{\n    var url = window.location.href;\n    var hash = window.location.hash;\n    url = url.replace(hash, '');\n    if (url.indexOf(paramName + \"=\") >= 0)\n    {\n        var prefix = url.substring(0, url.indexOf(paramName));\n        var suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix = (suffix.indexOf(\"&\") >= 0) ? suffix.substring(suffix.indexOf(\"&\")) : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    }\n    else\n    {\n    if (url.indexOf(\"?\") < 0)\n        url += \"?\" + paramName + \"=\" + paramValue;\n    else\n        url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if(url===window.location.href){\n        return;\n    }\n    window.history.pushState(null, null, url);\n}\n\nexport const allowSharePreview=()=>{\n    if(!window.isSharePage){\n        return true;\n    }\n    if(window.isSharePage){\n        if(window.shareInfo.allowPreview){\n            return true;\n        }\n        if(window.userInfo.uid===-1){\n            return false;\n        }\n        return true;\n    }\n}\n\nexport const checkGetParameters= field=>{\n    var url = window.location.href;\n    if(url.indexOf('?' + field + '=') !== -1)\n        return true;\n    else if(url.indexOf('&' + field + '=') !== -1)\n        return true;\n    return false\n}\n\nexport const changeThemeColor = color=>{\n    var metaThemeColor = window.document.querySelector(\"meta[name=theme-color]\");\n    metaThemeColor.setAttribute(\"content\", color);\n}","import React, { Component } from 'react'\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\nimport DPlayer from \"react-dplayer\";\n\n\nconst styles = theme => ({\n    layout: {\n        width: 'auto',\n        marginTop:'30px',\n        marginLeft: theme.spacing.unit * 3,\n        marginRight: theme.spacing.unit * 3,\n        [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n          width: 1100,\n          marginLeft: 'auto',\n          marginRight: 'auto',\n        },\n      },\n      player:{\n        borderRadius: \"4px\", \n      }\n})\n\nclass VideoViewer extends Component {\n\n    render() {\n        const { classes } = this.props;\n        return (\n             <div className={classes.layout}>\n                <Paper className={classes.root} elevation={1}>\n                   \n                <DPlayer className={classes.player} video={{url: window.videoInfo.url}}/>\n                </Paper>\n             </div>\n        );\n    }\n\n}\n\nVideoViewer.propTypes = {\n};\n\nexport default withStyles(styles)(VideoViewer);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Navbar from \"../component/Navbar.js\"\nimport AlertBar from \"../component/Snackbar\"\nimport VideoViewer from \"../component/Viewer/video\"\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme(window.colorTheme);\nconst styles = theme => ({\n\n\troot: {\n\t\tdisplay: 'flex',\n\t},\n\tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: theme.spacing.unit * 0,\n\t\tminWidth: 0,\n\t},\n\ttoolbar: theme.mixins.toolbar,\n});\n\nclass VideoApp extends Component {\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<div className={classes.root} id=\"container\">\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<AlertBar/>\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t\t\t<VideoViewer/>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</div></MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nVideoApp.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(VideoApp);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport VideoApp from \"./video.app\"\nimport cloureveApp from '../reducers'\n\nconst defaultStatus = {\n    navigator:{\n        path:window.path,\n        refresh:true,\n    },\n    viewUpdate:{\n        open:window.isHomePage,\n        explorerViewMethod: \"icon\",\n        sortMethod:\"timePos\",\n        contextType:\"none\",  \n        menuOpen:false,\n        navigatorLoading:true,\n        navigatorError:false,\n        navigatorErrorMsg:null,\n        modalsLoading:false,\n        storageRefresh:false,\n        modals:{\n            createNewFolder:false,\n            rename:false,\n            move:false,\n            remove:false,\n            share:false,\n            music:false,\n            remoteDownload:false,\n            torrentDownload:false,\n        },\n        snackbar:{\n            toggle:false,\n            vertical:\"top\",\n            horizontal:\"center\",\n            msg:\"\",\n            color:\"\",\n        }\n    },\n    explorer:{\n        fileList:[],\n        dirList:[\n        ],\n        selected:[],\n        selectProps:{\n            isMultiple:false,\n            withFolder:false,\n            withFile:false,\n        },\n        imgPreview:{\n            first:null,\n            other:[],\n        },\n        keywords:null,\n    }\n};\n\nlet store = createStore(cloureveApp,defaultStatus)\nReactDOM.render(\n    <Provider store={store}>\n        <VideoApp/>\n    </Provider>\n, document.getElementById('root'));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTheme } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux'\nimport VideoIcon from '@material-ui/icons/VideoLibrary';\nimport MusicIcon from '@material-ui/icons/LibraryMusic';\nimport ImageIcon from '@material-ui/icons/Collections';\nimport AddIcon from '@material-ui/icons/Add';\nimport DocIcon from '@material-ui/icons/FileCopy';\nimport ShareIcon from '@material-ui/icons/Share';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport OpenIcon from '@material-ui/icons/OpenInNew'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\nimport OpenFolderIcon from '@material-ui/icons/FolderOpen'\nimport RenameIcon from '@material-ui/icons/BorderColor'\nimport MoveIcon from '@material-ui/icons/Input'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer'\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport FolderShared from '@material-ui/icons/FolderShared';\nimport SaveIcon from '@material-ui/icons/Save';\nimport List from '@material-ui/core/List';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Badge from '@material-ui/core/Badge';\nimport Grow from '@material-ui/core/Grow';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {isPreviewable} from \"../config\"\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navitateTo,\n    openCreateFolderDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n} from \"../actions/index\"\nimport {allowSharePreview,checkGetParameters,changeThemeColor} from \"../untils/index\"\nimport Uploader from \"./Uploader.js\"\nimport {sizeToString} from \"../untils/index\"\nimport SezrchBar from \"./SearchBar\"\nimport StorageBar from \"./StorageBar\"\nimport UserAvatar from \"./UserAvatar\"\nimport UserInfo from \"./UserInfo\"\nimport {\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = state => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n        path:state.navigator.path, \n        keywords:state.explorer.keywords,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        handleDesktopToggle: open => {\n            dispatch(drawerToggleAction(open))\n        },\n        setSelectedTarget:targets=>{\n            dispatch(setSelectedTarget(targets))\n        },\n        navitateTo:path => {\n            dispatch(navitateTo(path))\n        },\n        openCreateFolderDialog:()=>{\n            dispatch(openCreateFolderDialog())\n        },\n        changeContextMenu:(type,open)=>{\n            dispatch(changeContextMenu(type,open))\n        },\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile:()=>{\n            dispatch(saveFile())\n        },\n        openMusicDialog:()=>{\n            dispatch(openMusicDialog())\n        },\n        showImgPreivew:(first)=>{\n            dispatch(showImgPreivew(first))\n        },\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n        openRenameDialog:()=>{\n            dispatch(openRenameDialog())\n        },\n        openMoveDialog:()=>{\n            dispatch(openMoveDialog())\n        },\n        openRemoveDialog:()=>{\n            dispatch(openRemoveDialog())\n        },\n        openShareDialog:()=>{\n            dispatch(openShareDialog())\n        },\n    }\n}\n\nconst styles = theme => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down('xs')]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition:\" background-color 250ms\" ,\n    },\n\n    drawer: {\n            width: 0,\n            flexShrink: 0,\n    },\n    drawerDesktop:{\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing.unit * 2,\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    menuButtonDesktop:{\n        marginRight: 20,\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n    menuIcon:{\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper:{\n        width:drawerWidthMobile,\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.enteringScreen,\n        }),\n      },\n      drawerClose: {\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: 'hidden',\n        width: 0,\n    \n      },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing.unit * 3,\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right:-15,\n\n    },\n    nested: {\n        paddingLeft: theme.spacing.unit * 4,\n    },\n      sectionForFile:{\n\n\n            display: 'flex',\n\n      },\n    extendedIcon: {\n        marginRight: theme.spacing.unit,\n    },\n    addButton:{\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton:{\n        borderRadius:\"100px\",\n    },\n    badgeFix:{\n        right:\"10px\",\n    },\n    iconFix:{\n        marginLeft: \"16px\",\n    },\n    dividerFix:{\n        marginTop: \"8px\",\n    },\n    folderShareIcon:{\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration:\"none\",\n    },\n    shareAvatar:{\n        width:\"40px\",\n        height:\"40px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo:{\n        marginLeft: \"10px\",\n        width: \"150px\",\n    }\n});\nclass NavbarCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n            queued: 0,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    componentDidMount=()=>{\n        changeThemeColor((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))!==(nextProps.selected.length <=1 && ! (!nextProps.isMultiple&&nextProps.withFile))){\n            changeThemeColor(!(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    clickUpload = () => {\n        if (this.state.queued === 0) {\n            //document.getElementsByClassName(\"uploadForm\")[0].click();\n            this.props.changeContextMenu(\"empty\",true);\n        } else {\n            this.UploaderRef.current.getWrappedInstance().openFileList();\n        }\n    }\n\n    updateQueueStatus = (queued) => {\n        this.setState({ queued: queued });\n    }\n\n    loadUploader() {\n        if (window.isHomePage) {\n            return (<Uploader queueChange={queued => this.updateQueueStatus(queued)} ref={this.UploaderRef} />)\n        }\n    }\n\n    filterFile = (type)=>{\n        this.props.searchMyFile(\"{filterType:\"+type+\"}\")\n    }\n\n    openPreview = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        this.props.changeContextMenu(\"file\",false);\n        let previewPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        switch(isPreviewable(this.props.selected[0].name)){\n            case 'img':\n                this.props.showImgPreivew(this.props.selected[0]);\n                return;\n            case 'msDoc':\n                window.open(window.apiURL.docPreiview+\"/?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'audio':\n                this.props.openMusicDialog();\n                return;\n            case 'open':\n                window.open(window.apiURL.preview+\"/?action=preview&path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'video':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Video?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Video?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'edit':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Markdown?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Markdown?path=\"+encodeURIComponent(previewPath));  \n                return;\n            default:\n                return;\n        }\n    }\n\n    openDownload = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        let downloadPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        window.open(window.apiURL.download+\"?action=download&path=\"+encodeURIComponent(downloadPath));\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        const drawer = (\n            <div id=\"container\">\n                {window.isMobile&&\n                    <UserInfo/>\n                }\n                {window.isHomePage&&\n                     <div className={classes.addButton}>\n                     <Badge badgeContent={this.state.queued} classes={{ badge: classes.badgeFix }} invisible={this.state.queued === 0} color=\"secondary\">\n                         <Button\n                          disabled={this.props.keywords!==null}\n                          variant=\"outlined\"\n                          size=\"large\"\n                          color=\"primary\" \n                          onClick = {this.clickUpload}\n                          className={classes.fabButton}\n                          >\n                             <AddIcon className={classes.extendedIcon} /> 新建项目\n                             \n                                  \n                         </Button>\n                           </Badge>\n                           </div>\n                }\n                {(!window.isHomePage&&(window.userInfo.uid!==-1))&&\n                <div>\n                    <ListItem button key=\"我的文件\" onClick={()=>window.location.href=\"/\"}>\n                    <ListItemIcon>     \n                            <FolderShared className={classes.iconFix}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                </div>\n                }\n\n                {window.isHomePage&&<div>\n                    <List> \n                    <Divider/>\n                    <ListItem button id=\"pickfiles\" className={classes.hiddenButton}>\n                        <ListItemIcon><UploadIcon /></ListItemIcon>\n                        <ListItemText />\n                    </ListItem>\n                </List>\n                <ListItem button key=\"视频\" onClick={()=>this.filterFile(\"video\")}>\n                    <ListItemIcon>     \n                            <VideoIcon className={[classes.iconFix,classes.iconVideo]}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"视频\" />\n                </ListItem>\n\n                <ListItem button key=\"图片\" onClick={()=>this.filterFile(\"image\")}>\n                    <ListItemIcon>      \n                        <ImageIcon className={[classes.iconFix,classes.iconImg]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"图片\" />\n                </ListItem>\n\n                <ListItem button key=\"音频\" onClick={()=>this.filterFile(\"audio\")}>\n                    <ListItemIcon>\n                            <MusicIcon className={[classes.iconFix,classes.iconAudio]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"音频\" />\n                </ListItem>\n\n                <ListItem button key=\"文档\" onClick={()=>this.filterFile(\"doc\")}>\n                    <ListItemIcon>\n                            <DocIcon className={[classes.iconFix,classes.iconDoc]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"文档\" />\n                </ListItem> <Divider className={classes.dividerFix}/></div>}\n\n                {window.userInfo.uid!==-1&&<div>\n                    <ListItem button key=\"我的分享\"  onClick={()=>window.location.href=\"/Share/My\"}>\n                        <ListItemIcon>\n                                <ShareIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"我的分享\" />\n                    </ListItem>\n                    <ListItem button key=\"离线下载\"  onClick={()=>window.location.href=\"/Home/Download\"}>\n                        <ListItemIcon>\n                                <DownloadIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"离线下载\" />\n                    </ListItem>\n                {!window.isSharePage&&\n                    <div>\n                        <StorageBar></StorageBar>\n                        </div>\n                }\n                \n                    </div>\n                }\n                {window.userInfo.uid===-1&&\n                <div>\n                    <ListItem button key=\"登录\" onClick={()=>window.location.href=\"/Login\"}>\n                        <ListItemIcon>\n                                <AccountArrowRight className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText primary=\"登录\" />\n                    </ListItem>\n                    <ListItem button key=\"注册\" onClick={()=>window.location.href=\"/Signup\"}>\n                    <ListItemIcon>\n                            <AccountPlus className={classes.iconFix} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"注册\" />\n                </ListItem>\n                </div>\n                }\n                {window.isSharePage&&\n                    <div className={classes.stickFooter}>\n                        <Divider/>\n                        <a className={classes.shareInfoContainer} href={\"/Profile/\"+window.shareInfo.ownerUid}>\n                            <Avatar src={\"/Member/Avatar/\"+window.shareInfo.ownerUid+\"/l\"} className={classes.shareAvatar}/><div className={classes.ownerInfo}>\n                            <Typography noWrap>{window.shareInfo.ownerNick}</Typography>\n                            <Typography noWrap variant=\"caption\" color=\"textSecondary\">分享于{window.shareInfo.shareDate }</Typography>\n                        </div>\n                        </a>\n                        \n                    </div>}\n                 \n                \n                \n                </div>\n        );\n        const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n        return (\n            <div>\n                <AppBar position=\"fixed\" className={classes.appBar} color={(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?\"primary\":\"default\"}> \n                    <Toolbar>\n                    {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&\n                        <IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={this.handleDrawerToggle}\n                            className={classes.menuButton}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                    }\n                        {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&<IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={()=>this.props.handleDesktopToggle(!this.props.desktopOpen)}\n                            className={classes.menuButtonDesktop}\n                        >\n                            <MenuIcon />\n                        </IconButton>}\n                        {((this.props.selected.length >1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <Grow in={(this.props.selected.length >1) || (!this.props.isMultiple&&this.props.withFile)}>\n                                <IconButton\n                                    color=\"inherit\"\n                                    className={classes.menuIcon}\n                                    onClick = {()=>this.props.setSelectedTarget([])}\n                                >\n                                    <BackIcon />\n                                </IconButton>\n                            </Grow>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {window.isSharePage&&window.pageId===\"\"&&<FolderShared className={classes.folderShareIcon}/>}{window.siteInfo.mainTitle}\n        \t\t\t\t</Typography>\n                        }\n\n                        {(!this.props.isMultiple&&this.props.withFile&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected[0].name} {(window.isHomePage||window.isSharePage)&&\"(\"+sizeToString(this.props.selected[0].size)+\")\"} \n        \t\t\t\t</Typography>\n                        }\n\n                        {(this.props.selected.length >1&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected.length}个对象\n        \t\t\t\t</Typography>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <SezrchBar/>\n                        }\n                        <div className={classes.grow} />\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile)) && !window.isHomePage&&!window.isSharePage && window.userInfo.uid!==-1&&!checkGetParameters(\"share\"))&&\n                            <div className={classes.sectionForFile}>\n                                <Tooltip title=\"保存\">\n                                    <IconButton color=\"inherit\" onClick={()=>this.props.saveFile()}>\n                                        <SaveIcon/>\n                                    </IconButton>\n                                </Tooltip>\n                            </div>\n                        }\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <div className={classes.sectionForFile}>\n                                {(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))}>\n                                        <Tooltip title=\"打开\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openPreview()}\n                                            >\n                                                <OpenIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&this.props.withFile)&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile)}>\n                                        <Tooltip title=\"下载\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openDownload()}\n                                            >\n                                                <DownloadIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple && this.props.withFolder)&&\n                                    <Grow in={(!this.props.isMultiple && this.props.withFolder)}>\n                                        <Tooltip title=\"进入目录\">\n                                            <IconButton color=\"inherit\"\n                                                onClick = {()=>this.props.navitateTo(this.props.path===\"/\"?this.props.path+this.props.selected[0].name:this.props.path+\"/\"+this.props.selected[0].name) }\n                                            >\n                                                <OpenFolderIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"分享\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openShareDialog()}>\n                                                <ShareIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"重命名\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRenameDialog()}>\n                                                <RenameIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {!window.isSharePage&&<div>\n                                    {!window.isMobile&&<Grow in={(this.props.selected.length!==0)&&!window.isMobile}>\n                                    <Tooltip title=\"移动\">\n                                        <IconButton color=\"inherit\" onClick={()=>this.props.openMoveDialog()}>\n                                            <MoveIcon/>\n                                        </IconButton>\n                                    </Tooltip>\n                                    </Grow>}\n                                    \n                                    <Grow in={(this.props.selected.length!==0)}>\n                                        <Tooltip title=\"删除\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRemoveDialog()}>\n                                                <DeleteIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                </div>}\n                                \n                                \n                            </div>\n                        }\n                         {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <UserAvatar/>\n                        }\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                    <Hidden smUp implementation=\"css\">\n                        <SwipeableDrawer\n                            container={this.props.container}\n                            variant=\"temporary\"\n                            classes={{\n                                paper: classes.drawerPaper,\n                            }}\n                            anchor=\"left\"\n                            open={this.state.mobileOpen}\n                            onClose={this.handleDrawerToggle}\n                            onOpen={()=>this.setState(state => ({ mobileOpen: true}))}\n                            disableDiscovery={iOS} \n                            ModalProps={{\n                                keepMounted: true, // Better open performance on mobile.\n                            }}\n                        >\n                            {drawer}\n                        </SwipeableDrawer>\n                    </Hidden>\n                    <Hidden xsDown implementation=\"css\">\n                        <Drawer\n                            classes={{\n                                paper: classNames({\n                                    [classes.drawerOpen]: this.props.desktopOpen,\n                                    [classes.drawerClose]: !this.props.desktopOpen,\n                                  }),\n                            }}\n                            className={classNames(classes.drawer, {\n                                [classes.drawerOpen]: this.props.desktopOpen,\n                                [classes.drawerClose]: !this.props.desktopOpen,\n                            })}\n                            variant=\"persistent\"\n                            anchor=\"left\"\n                            open={this.props.desktopOpen}\n                        ><div className={classes.toolbar} />\n                            {drawer}\n                        </Drawer>\n                    </Hidden>\n        \n            </div>\n        );\n    }\n\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )( withTheme()(withStyles(styles)(NavbarCompoment)))\n  \nexport default Navbar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport {\n } from \"../actions/index\"\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport amber from '@material-ui/core/colors/amber';\nimport IconButton from '@material-ui/core/IconButton';\nimport WarningIcon from '@material-ui/icons/Warning';\n\nconst mapStateToProps = state => {\n    return {\n        snackbar:state.viewUpdate.snackbar,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n  };\n\nconst styles1 = theme => ({\n    success: {\n        backgroundColor: green[600],\n      },\n      error: {\n        backgroundColor: theme.palette.error.dark,\n      },\n      info: {\n        backgroundColor: theme.palette.primary.dark,\n      },\n      warning: {\n        backgroundColor: amber[700],\n      },\n      icon: {\n        fontSize: 20,\n      },\n      iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing.unit,\n      },\n      message: {\n        display: 'flex',\n        alignItems: 'center',\n      },\n})\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n  \n    return (\n      <SnackbarContent\n        className={classNames(classes[variant], className)}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <Icon className={classNames(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={onClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n        {...other}\n      />\n    );\n  }\n  MySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n  };\n  \nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);  \nconst styles = theme => ({\n    margin: {\n        margin: theme.spacing.unit,\n    },\n})\nclass SnackbarCompoment extends Component {\n\n    state={\n        open:false,\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(nextProps.snackbar.toggle !== this.props.snackbar.toggle){\n            this.setState({open:true});\n        }\n    }\n\n    handleClose= ()=>{\n        this.setState({open:false});\n    } \n    \n    render() {\n\n        return (\n            <Snackbar\n            anchorOrigin={{\n                vertical: this.props.snackbar.vertical,\n                horizontal: this.props.snackbar.horizontal,\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n            >\n            <MySnackbarContentWrapper\n                onClose={this.handleClose}\n                variant={this.props.snackbar.color}\n                message={this.props.snackbar.msg} \n            />\n        </Snackbar>\n        );\n    }\n\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SnackbarCompoment))\n  \nexport default AlertBar","const checkSelectedProps = (state)=>{\n    let isMultiple,withFolder,withFile=false;\n    isMultiple = (state.selected.length>1);\n    // eslint-disable-next-line\n    state.selected.map((value)=>{\n        if(value.type===\"dir\"){\n            withFolder = true;\n        }else if(value.type===\"file\"){\n            withFile = true;\n        }\n    })\n    return [isMultiple,withFolder,withFile];\n}\n\nconst doNavigate = (path,state)=>{\n    return Object.assign({}, state, {\n        navigator:Object.assign({}, state.navigator, {\n            path: path\n        }),\n        viewUpdate:Object.assign({}, state.viewUpdate, {\n            contextOpen:false,\n            navigatorError:false,\n            navigatorLoading:true,\n        }),\n        explorer:Object.assign({}, state.explorer, {\n            selected:[],\n            selectProps: {\n                isMultiple:false,\n                withFolder:false,\n                withFile:false,\n            },\n            keywords:null,\n        }),\n    });\n}\n\nconst cloudreveApp = (state = [], action) => {\n    switch (action.type) {\n        case 'DRAWER_TOGGLE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    open:action.open,\n                }),\n            });\n        case 'CHANGE_VIEW_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    explorerViewMethod:action.method,\n                }),\n            });\n        case 'CHANGE_SORT_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    sortMethod:action.method,\n                }),\n            });\n        case 'CHANGE_CONTEXT_MENU':\n            if(state.viewUpdate.contextOpen && action.open){\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                contextOpen: action.open,\n                contextType:action.menuType,\n                }),\n            });\n        case 'SET_NAVIGATOR_LOADING_STATUE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorLoading:action.status,\n                }),\n            });\n        case 'SET_NAVIGATOR_ERROR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorError: action.status,\n                    navigatorErrorMsg: action.msg,\n                }),\n            });\n        case 'UPDATE_FILE_LIST':\n            // eslint-disable-next-line\n            action.list.sort((a,b)=>{\n                switch (state.viewUpdate.sortMethod) {\n                    case \"sizePos\":\n                        return a.size-b.size;\n                    case \"sizeRes\": \n                        return b.size-a.size;\n                    case 'namePos':\n                        return a.name.localeCompare(b.name);\n                    case 'nameRev':\n                        return b.name.localeCompare(a.name);\n                    case 'timePos':\n                        return Date.parse(a.date)-Date.parse(b.date);\n                    case 'timeRev':\n                        return Date.parse(b.date)-Date.parse(a.date);\n                    default:\n                        break; \n                }\n            })\n            var dirList =  action.list.filter(function (x) {\n                return x.type === \"dir\";\n            });\n            var fileList =  action.list.filter(function (x) {\n                return x.type === \"file\";\n            });\n            return Object.assign({}, state, {\n                explorer: Object.assign({}, state.explorer, {\n                    fileList: fileList,\n                    dirList: dirList,\n                }),\n            });\n        case 'ADD_SELECTED_TARGET':\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: [...state.explorer.selected,action.targets]\n                }),\n            });\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'SET_SELECTED_TARGET':\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: action.targets\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'RMOVE_SELECTED_TARGET':\n            var oldSelected = state.explorer.selected.concat();\n            oldSelected.splice(action.id,1);\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: oldSelected\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'NAVIGATOR_TO':\n            return doNavigate(action.path,state);\n        case 'NAVIGATOR_UP':\n            let pathSplit = state.navigator.path.split(\"/\");\n            pathSplit.pop();\n            let newPath = pathSplit.length===1?\"/\":pathSplit.join(\"/\");\n            return doNavigate(newPath,state);\n        case 'OPEN_CREATE_FOLDER_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_RENAME_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        rename:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remove:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        move:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_SHARE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        share:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MUSIC_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        music:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOTE_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remoteDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_TORRENT_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        torrentDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_GET_SOURCE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        getSource:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'CLOSE_ALL_MODALS': \n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:false,\n                        rename:false,\n                        move:false,\n                        remove:false,\n                        share:false,\n                        music:false,\n                        remoteDownload:false,\n                        torrentDownload:false,\n                        getSource:false,\n                    }),\n                }),\n            });\n        case 'TOGGLE_SNACKBAR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    snackbar:{\n                        toggle:!state.viewUpdate.snackbar.toggle,\n                        vertical:action.vertical,\n                        horizontal:action.horizontal,\n                        msg:action.msg,\n                        color:action.color,\n                    },\n                }),\n            });\n        case 'SET_MODALS_LOADING':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modalsLoading:action.status,\n                }),\n            });\n        case 'REFRESH_FILE_LIST':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh:!state.navigator.refresh,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    }\n                }),\n            });\n        case 'SEARCH_MY_FILE':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:!state.navigator.refresh,\n                }),\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    contextOpen:false,\n                    navigatorError:false,\n                    navigatorLoading:true,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    },\n                    keywords:action.keywords,\n                }),\n            });\n        case 'SHOW_IMG_PREIVEW':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    imgPreview: {\n                        first:action.first,\n                        other:state.explorer.fileList,\n                    },\n                }),\n            });\n        case 'REFRESH_STORAGE':\n            return Object.assign({}, state, {\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    storageRefresh:!state.viewUpdate.storageRefresh,\n                }),\n            });\n        case 'SAVE_FILE':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    fileSave:!state.explorer.fileSave,\n                }),\n            });\n        default:\n            return state\n    }\n  }\n  \n  \nexport default cloudreveApp","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport InputBase from '@material-ui/core/InputBase';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport FileIcon from '@material-ui/icons/InsertDriveFile'\nimport ShareIcon from '@material-ui/icons/Share'\nimport { connect } from 'react-redux'\nimport {\n    searchMyFile,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n    }\n}\n\nconst styles = theme => ({\n    search: {\n        [theme.breakpoints.down('sm')]: {\n            display:\"none\",\n        },\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n          backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing.unit * 2,\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n          marginLeft: theme.spacing.unit * 7.2,\n          width: 'auto',\n        },\n      },\n      searchIcon: {\n        width: theme.spacing.unit * 9,\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      },\n      inputRoot: {\n        color: 'inherit',\n        width: '100%',\n      },\n      inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 7,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n          width: 200,\n          '&:focus': {\n            width: 300,\n          }\n        },\n      },\n      suggestBox:{\n        zIndex: \"9999\",\n        width:364,\n      }\n})\n\nclass SearchBarCompoment extends Component {\n\n    state = {\n        anchorEl: null,\n        input:\"\",\n    };\n\n    handleChange = (event)=>{\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl:currentTarget,\n            input:event.target.value,\n        });\n    }\n\n    cancelSuggest = ()=>{\n        this.setState({\n            input:\"\",\n        });\n    }\n\n    searchMyFile = ()=>{\n        this.props.searchMyFile(this.input);\n    }\n\n    searchShare = ()=>{\n        window.location.href=\"/Explore/Search/\"+this.input;\n    }\n\n    render() {\n\n        const { classes} = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input!==\"\" ? 'simple-popper' : null;\n\n        return (\n            <div className={classes.search}> \n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <InputBase\n                    placeholder=\"搜索...\"\n                    classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                    }}\n                    onChange={this.handleChange}\n                    onBlur = {this.cancelSuggest}\n                    value ={this.state.input}\n                />\n                <Popper id={id} open={this.state.input!==\"\"} anchorEl={anchorEl} className={classes.suggestBox} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper\n                            square={true}\n                            >\n                            {window.isHomePage&&\n                            <MenuItem onClick={this.searchMyFile}>\n                                <ListItemIcon className={classes.icon}>\n                                    <FileIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在我的文件中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            }\n                            \n                            <MenuItem onClick={this.searchShare}>\n                                <ListItemIcon className={classes.icon}>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在全站分享中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SearchBarCompoment))\n  \nexport default SearchBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport StorageIcon from '@material-ui/icons/Storage'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {\n    toggleSnackbar,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        refresh:state.viewUpdate.storageRefresh,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n    }\n}\n\nconst styles = theme => ({\n    iconFix:{\n        marginLeft: \"32px\",\n        marginRight: \"32px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix:{\n        \"padding\":\" 0 0 0 16px\",\n    },\n    storageContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n   \n        marginBottom: \"20px\",\n    },\n    detail:{\n        width: \"100%\",\n        marginRight: \"20px\",\n    },\n    info:{\n        width:\"131px\",\n        marginTop:\"5px\",\n    },\n    bar:{\n        marginTop: \"5px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n    }\n})\n\nclass StorageBarCompoment extends Component {\n\n    state={\n        percent:0,\n        used:null,\n        total:null,\n    }\n\n    firstLoad = true;\n\n    componentDidMount = ()=>{\n        if(this.firstLoad){\n            this.updateStatus();\n            this.firstLoad = !this.firstLoad;\n        }\n        \n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(this.props.refresh!==nextProps.refresh){\n            this.updateStatus();\n        }\n    }\n\n    updateStatus = ()=>{\n        let percent = 0;\n        axios.get('/Member/Memory')\n        .then( (response)=> {\n            if(response.data.rate>=100){\n                percent = 100;\n                this.props.toggleSnackbar(\"top\",\"right\",\"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\"warning\");\n            }else{\n                percent = response.data.rate;\n            }\n            this.setState({\n                percent:percent,\n                used:response.data.used,\n                total:response.data.total,\n            });\n        })\n        .catch((error) =>{\n            \n        });\n    }\n\n    render() {\n        const { classes} = this.props;\n        if(!window.isMobile){\n            return (\n                <div className={classes.stickFooter}><Divider/>  \n            <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n                  </div>\n            );\n        }else{\n            return (\n                <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n            );\n        }\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(StorageBarCompoment))\n  \nexport default StorageBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grow from '@material-ui/core/Grow';\nimport { connect } from 'react-redux'\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport SettingIcon from '@material-ui/icons/Settings'\nimport Typography from '@material-ui/core/Typography';\nimport Chip from '@material-ui/core/Chip';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountCircle,\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nimport {\n\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n    }\n}\n\nconst styles = theme => ({\n    mobileHidden:{\n        [theme.breakpoints.down('xs')]: {\n            display: 'none',\n        },\n    },\n    avatar:{\n        width:\"30px\",\n        height:\"30px\",\n    },\n    header:{\n        display:\"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar:{\n        height:\"90px\",\n        width:\"90px\",\n    },\n    info:{\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge:{\n        marginTop:\"10px\",\n    },\n    visitorMenu:{\n        width:200,\n    }\n})\n\nclass UserAvatarCompoment extends Component {\n\n    state={\n        anchorEl:null,\n    }\n\n    showUserInfo = e=>{\n        this.setState({\n            anchorEl:e.currentTarget\n        });\n    }\n\n    handleClose=()=>{\n        this.setState({\n            anchorEl:null,\n        });\n    }\n    \n    openURL = (url)=>{\n        window.location.href=url;\n    }\n\n    render() {\n        const { classes} = this.props;\n        return (\n            <div className={classes.mobileHidden}>\n                \n                <Grow in={((this.props.selected.length <=1) && !(!this.props.isMultiple&&this.props.withFile))}>\n                       <div>\n                       {(window.userInfo.uid!==-1)&&<IconButton onClick={()=>window.location.href=\"/Member/Setting\"} color=\"inherit\" \n                        >\n                            <SettingIcon/>\n                        </IconButton>}\n                      \n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                        {window.userInfo.uid===-1&&\n                            <AccountCircle/>\n                        }\n                        {window.userInfo.uid!==-1&&<Avatar  src={\"/Member/Avatar/\"+window.userInfo.uid+\"/s\"} className={classes.avatar} />}\n                        \n                        </IconButton> </div>\n                </Grow>\n                <Popover \n                open = {this.state.anchorEl!==null}\n                onClose={this.handleClose}\n                anchorEl={this.state.anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                >\n                {window.userInfo.uid===-1&&\n                     <div className={classes.visitorMenu}>\n                     <Divider/>\n                     <MenuItem onClick={()=>this.openURL(\"/Login\")}>\n                             <ListItemIcon><AccountArrowRight/></ListItemIcon>\n                                 登录\n                         </MenuItem>\n                     <MenuItem onClick={()=>this.openURL(\"/Signup\")}>\n                         <ListItemIcon><AccountPlus/></ListItemIcon>\n                             注册\n                     </MenuItem>\n                   </div>\n                }\n                {window.userInfo.uid!==-1&&\n                <div>\n                    <div className={classes.header}>\n                        <div className={classes.largeAvatarContainer}>\n                            <Avatar className={classes.largeAvatar} src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} />\n                        </div>\n                        <div className={classes.info}>\n                            <Typography noWrap>{window.userInfo.nick}</Typography>\n                            <Typography color=\"textSecondary\" noWrap>{window.userInfo.email}</Typography>\n                            <Chip\n                                className={classes.badge}\n                                color={window.userInfo.groupId === 1?\"secondary\":\"default\"}\n                                label={window.userInfo.group}\n                            />\n                        </div>\n                    </div>\n                    <div>\n                        <Divider/>\n                        <MenuItem onClick={()=>this.openURL(\"/Profile/\"+window.userInfo.uid)}>\n                                <ListItemIcon><HomeAccount/></ListItemIcon>\n                                    个人主页\n                            </MenuItem>\n                        {(window.userInfo.groupId === 1)&&\n                            <MenuItem onClick={()=>this.openURL(\"/Admin\")}>\n                                <ListItemIcon><DesktopMacDashboard/></ListItemIcon>\n                                    管理面板\n                            </MenuItem>\n                        }\n                       \n                        <MenuItem onClick={()=>this.openURL(\"/Member/LogOut\")}>\n                            <ListItemIcon><LogoutVariant/></ListItemIcon>\n                                退出\n                        </MenuItem>\n                    </div></div>}\n                </Popover>\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserAvatarCompoment))\n  \nexport default UserAvatar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport Typography from '@material-ui/core/Typography';\nimport {\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst styles = theme => ({\n    userNav:{\n        height:\"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage: \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\"+theme.palette.primary.light.replace(\"#\",\"%23\")+\"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.main.replace(\"#\",\"%23\")+\"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar:{\n        display: \"block\",\n        width: \"80px\",\n        height: \"80px\",\n        border:\" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow: \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg:{\n        width: \"80px\",\n        height: \"80px\",\n    },\n    nickName:{\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar:{\n        display:\"flex\",\n    },\n    groupName:{\n        marginLeft: \"10px\",\n        color:\"#ffffff8a\",\n    },\n    storageCircle:{\n        width: \"200px\",\n    }\n})\n\nclass UserInfoCompoment extends Component {\n\n    render() {\n        const { classes} = this.props;\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    <a href={\"/Profile/\"+window.userInfo.uid} className={classes.avatar}>\n                        {(window.userInfo.uid!==-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} className={classes.avatarImg}></img>}\n                        {(window.userInfo.uid===-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/0/l\"} className={classes.avatarImg}></img>}\n                    </a>\n                \n                </div>\n                <div className={classes.storageCircle}><Typography className={classes.nickName} component=\"h2\" noWrap>{window.userInfo.nick}</Typography>\n                    <Typography className={classes.groupName} component=\"h2\" color=\"textSecondary\" noWrap>{window.userInfo.group}</Typography></div>\n            </div>           \n        );\n      \n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserInfoCompoment))\n  \nexport default UserInfo","export const isDefined = val => val != null\nexport const isFunction = val => typeof val === 'function'\nexport const noop = _ => { }\n\nexport const newScript = (src) => (cb) => {\n  const scriptElem = document.createElement('script')\n  if (typeof src === 'object') {\n    // copy every property to the element\n    for (var key in src) {\n      if (Object.prototype.hasOwnProperty.call(src, key)) {\n        scriptElem[key] = src[key];\n      }\n    }\n    src = src.src;\n  } else {\n    scriptElem.src = src\n  }\n  scriptElem.addEventListener('load', () => cb(null, src))\n  scriptElem.addEventListener('error', () => cb(true, src))\n  document.body.appendChild(scriptElem)\n  return scriptElem\n}\n\nconst keyIterator = (cols) => {\n  const keys = Object.keys(cols)\n  let i = -1\n  return {\n    next () {\n      i++ // inc\n      if (i >= keys.length) return null\n      else return keys[i]\n    }\n  }\n}\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n  let hasError = false\n  let successed = 0\n  const ret = []\n  tasks = tasks.filter(isFunction)\n\n  if (tasks.length <= 0) cb(null)\n  else {\n    tasks.forEach((task, i) => {\n      const thunk = task\n      thunk((err, ...args) => {\n        if (err) hasError = true\n        else {\n          // collect result\n          if (args.length <= 1) args = args[0]\n\n          ret[i] = args\n          successed ++\n        }\n\n        if (isFunction(each)) each.call(null, err, args, i)\n\n        if (hasError) cb(true)\n        else if (tasks.length === successed) {\n          cb(null, ret)\n        }\n      })\n    })\n  }\n}\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n  tasks = tasks.filter(val => val != null)\n  const nextKey = keyIterator(tasks)\n  const nextThunk = () => {\n    const key = nextKey.next()\n    let thunk = tasks[key]\n    if (Array.isArray(thunk)) thunk = parallel.apply(null, thunk).call(null, each)\n    return [ +key, thunk ] // convert `key` to number\n  }\n  let key, thunk\n  let next = nextThunk()\n  key = next[0]\n  thunk = next[1]\n  if (thunk == null) return cb(null)\n\n  const ret = []\n  const iterator = () => {\n    thunk((err, ...args) => {\n      if (args.length <= 1) args = args[0]\n      if (isFunction(each)) each.call(null, err, args, key)\n\n      if (err) cb(err)\n      else {\n        // collect result\n        ret.push(args)\n\n        next = nextThunk()\n        key = next[0]\n        thunk = next[1]\n        if (thunk == null) return cb(null, ret) // finished\n        else iterator()\n      }\n    })\n  }\n  iterator()\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { newScript, series, noop } from './utils'\n\nconst loadedScript = []\nconst pendingScripts = {}\nlet failedScript = []\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n  // sequence load\n  const loadNewScript = (script) => {\n    const src = typeof script === 'object' ? script.src : script\n    if (loadedScript.indexOf(src) < 0) {\n      return taskComplete => {\n        const callbacks = pendingScripts[src] || []\n        callbacks.push(taskComplete)\n        pendingScripts[src] = callbacks\n        if (callbacks.length === 1) {\n          return newScript(script)(err => {\n            pendingScripts[src].forEach(cb => cb(err, src))\n            delete pendingScripts[src]\n          })\n        }\n      }\n    }\n  }\n  const tasks = scripts.map(src => {\n    if (Array.isArray(src)) {\n      return src.map(loadNewScript)\n    }\n    else return loadNewScript(src)\n  })\n\n  series(...tasks)((err, src) => {\n    if (err) {\n      failedScript.push(src)\n    }\n    else {\n      if (Array.isArray(src)) {\n        src.forEach(addCache)\n      }\n      else addCache(src)\n    }\n  })(err => {\n    removeFailedScript()\n    onComplete(err)\n  })\n}\n\nconst addCache = (entry) => {\n  if (loadedScript.indexOf(entry) < 0) {\n    loadedScript.push(entry)\n  }\n}\n\nconst removeFailedScript = () => {\n  if (failedScript.length > 0) {\n    failedScript.forEach((script) => {\n      const node = document.querySelector(`script[src='${script}']`)\n      if (node != null) {\n        node.parentNode.removeChild(node)\n      }\n    })\n\n    failedScript = []\n  }\n}\n\nconst scriptLoader = (...scripts) => (WrappedComponent) => {\n  class ScriptLoader extends Component {\n    static propTypes = {\n      onScriptLoaded: PropTypes.func\n    }\n\n    static defaultProps = {\n      onScriptLoaded: noop\n    }\n\n    constructor (props, context) {\n      super(props, context)\n\n      this.state = {\n        isScriptLoaded: false,\n        isScriptLoadSucceed: false\n      }\n\n      this._isMounted = false;\n    }\n\n    componentDidMount () {\n      this._isMounted = true;\n      startLoadingScripts(scripts, err => {\n        if(this._isMounted) {\n          this.setState({\n            isScriptLoaded: true,\n            isScriptLoadSucceed: !err\n          }, () => {\n            if (!err) {\n              this.props.onScriptLoaded()\n            }\n          })\n        }\n      })\n    }\n\n    componentWillUnmount () {\n      this._isMounted = false;\n    }\n\n    getWrappedInstance () {\n      return this.refs.wrappedInstance;\n    }\n\n    render () {\n      const props = {\n        ...this.props,\n        ...this.state,\n        ref: 'wrappedInstance'\n      }\n\n      return (\n        <WrappedComponent {...props} />\n      )\n    }\n  }\n\n  return hoistStatics(ScriptLoader, WrappedComponent)\n}\n\nexport default scriptLoader\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport FileIcon from '@material-ui/icons/InsertDriveFile';\nimport PhotoIcon from '@material-ui/icons/MusicNote';\nimport VideoIcon from '@material-ui/icons/Videocam';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport MusicIcon from '@material-ui/icons/MusicNote';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst styles = theme => ({\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar:{\n        marginTop:5,\n    },\n    minHight:{\n        [theme.breakpoints.up('sm')]: {\n            minWidth:500,\n        }\n    },\n    dialogContent:{\n        padding:0,\n    },\n    successStatus:{\n        marginBottom:10,\n        color:\"#4caf50\",\n    },\n    errorStatus:{\n        marginBottom:10,\n        color:\"#ff5722\",\n    },\n});\nclass FileList extends Component {\n\n    state = {\n        open: false,\n        files: [\n        ],\n    };\n\n    //入队\n    enQueue(files) {\n        var filesNow = this.state.files;\n        if (filesNow.findIndex((file) => { return file.id === files.id }) === -1) {\n            filesNow.push(files);\n            this.setState({\n                files: filesNow,\n            });\n        }\n        console.log(this.state);\n\n    }\n\n    deQueue(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n            });\n        }\n    }\n\n    updateStatus(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setComplete(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setError(file,errMsg){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        }else{\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if(!this.state.open){\n            this.setState({ open: true });\n        }\n        \n    };\n\n    cancelUpload = file =>{\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false });\n\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadForm\")[0].click();\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        const fileIcon = {\n            \"image\":[\"jpg\",\"bpm\",\"png\",\"gif\",\"jpeg\",\"webp\",\"svg\"],\n            \"video\":[\"mp4\",\"rmvb\",\"flv\",\"avi\"],\n            \"audio\":[\"mp3\",\"ogg\",\"flac\",\"aac\"],\n        };\n\n        this.props.inRef({\n            \"openFileList\":this.openFileList.bind(this),\n            \"enQueue\":this.enQueue.bind(this),\n            \"updateStatus\":this.updateStatus.bind(this),\n            \"setComplete\":this.setComplete.bind(this),\n            \"setError\":this.setError.bind(this),\n        });\n\n        var listContent = (\n            this.state.files.map(function(item, i){\n                var progressItem;\n                var queueIcon;\n\n                if(fileIcon[\"image\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<PhotoIcon></PhotoIcon>);\n                }else if(fileIcon[\"video\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<VideoIcon></VideoIcon>);\n                }else if(fileIcon[\"audio\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<MusicIcon></MusicIcon>);\n                }else{\n                    queueIcon = (<FileIcon></FileIcon>);\n                }\n            \n                if(item.status ===5){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.successStatus}>已完成<br/></div>} />);\n                }else if (item.status ===2){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>{window.plupload.formatSize(item.speed).toUpperCase()}/s 已上传 {window.plupload.formatSize(item.loaded).toUpperCase()} , 共 {window.plupload.formatSize(item.size).toUpperCase()} - {item.percent}% <br/><LinearProgress variant=\"determinate\" value={item.percent} className={classes.progressBar} /></div>}/>);\n                }else if (item.status ===1){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>排队中<br/><LinearProgress className={classes.progressBar}/></div>} />);\n                }else if (item.status ===4){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.errorStatus}>{item.errMsg}<br/></div>} />);\n                }else{\n                    progressItem = (<ListItemText primary={item.name} secondary={item.status} />);\n                }\n                return (\n                    <div key={i}>\n                        <ListItem button >\n                            <Avatar>\n                                {queueIcon}\n                            </Avatar>\n                            {progressItem}\n                            \n                            <ListItemSecondaryAction>\n                                <IconButton aria-label=\"Delete\" onClick={()=>this.cancelUpload(item)}>\n                                    <DeleteIcon />\n                                </IconButton>\n                            </ListItemSecondaryAction>\n\n                        </ListItem>\n                        <Divider /></div>\n                );\n            },this)\n\n        );\n\n        return (\n            <Dialog\n            fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton color=\"inherit\" onClick={this.handleClose} aria-label=\"Close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" color=\"inherit\"  className={classes.flex}>\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                           <AddIcon/>\n                        </IconButton>\n                    </Toolbar>\n                    \n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                <List className={classes.minHight}>\n                    {listContent}\n                </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n\n}\nFileList.propTypes = {\n};\n\nexport default withStyles(styles)(withWidth()(FileList));","import React, { Component } from 'react'\nimport scriptLoader from '../loader/index.js'\nimport { connect } from 'react-redux'\nimport {\n    refreshFileList,\n    refreshStorage\n} from \"../actions/index\"\nimport FileList from \"./Upload/FileList.js\"\n\nlet loaded = false;\n\nconst mapStateToProps = state => {\n    return {\n        path:state.navigator.path,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        refreshFileList:()=>{\n            dispatch(refreshFileList())\n        },\n        refreshStorage:()=>{\n            dispatch(refreshStorage())\n        }\n    }\n}\n\nclass UploaderCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state={\n            queued:0,\n        }\n    }\n\n    setRef(val){\n        this.fileList=val;\n    }\n\n    cancelUpload(file){\n        this.uploader.removeFile(file);\n    }\n    shouldComponentUpdate(nextProps,nextState){\n        if(nextState.queued !== this.state.queued){\n          this.props.queueChange(nextState.queued);\n        }\n        return false;\n    }\n\n    componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) { // load finished\n            if (isScriptLoadSucceed) {\n                if(loaded){\n                    return;\n                }\n                loaded = true;\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: 'html5',\n                    browse_button: 'pickfiles',\n                    container: 'container',\n                    drop_element: 'container',\n                    max_file_size: window.uploadConfig.maxSize,\n                    dragdrop: true,\n                    chunk_size: window.ChunkSize,\n                    filters: {\n                        mime_types: window.uploadConfig.allowedType,\n                    },\n                    multi_selection: !(window.moxie.core.utils.Env.OS.toLowerCase() === \"ios\"),\n                    uptoken_url: \"/Upload/Token\",\n                    domain: \"s\",\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        'FilesAdded':({up, files})=>{\n                            this.fileList[\"openFileList\"]();\n                            window.plupload.each(files, (files)=> {\n                                window.pathCache[files.id] = this.props.path;\n                                this.fileList[\"enQueue\"](files);\n                           })\n                           console.log(window.pathCache);\n                        },\n                            \n                        \n                        'BeforeUpload': function (up, file) {\n                        },\n                        \"QueueChanged\":(up=>{\n                            this.setState({queued:up.total.queued});\n                        }),\n                        'UploadProgress': (up, file)=>{\n                            this.fileList[\"updateStatus\"](file);\n                        },\n                        'UploadComplete': (up, file)=>{\n                            if(file.length===0){\n                                return \n                            }\n                            if(file[0].status === 5){\n                                this.fileList[\"setComplete\"](file[0]);\n                                this.props.refreshFileList(); \n                                this.props.refreshStorage();\n                            }\n                            \n                        },\n                        'FileUploaded': function (up, file, info) {\n                           \n                        },\n                        'Error': (up, err, errTip)=>{\n                            this.fileList[\"openFileList\"]();\n                            this.fileList[\"setError\"](err.file,errTip);\n                        },\n                        \"FilesRemoved\":(up, files)=>{\n                        },\n                    }\n                });\n               // this.fileList[\"openFileList\"]();\n            }\n            else this.onError()\n        }\n    }\n\n    componentDidMount() {\n        const { isScriptLoaded, isScriptLoadSucceed } = this.props\n        if (isScriptLoaded && isScriptLoadSucceed) {\n        }\n        \n    }\n\n    onError(){\n\n    }\n\n    openFileList=()=>{\n        this.fileList[\"openFileList\"]();\n    };\n\n\n    render() {\n        return (\n             <div>\n                <FileList inRef= {this.setRef.bind(this)} cancelUpload={this.cancelUpload.bind(this)}/>\n             </div>\n        );\n    }\n\n}\n\nconst Uploader = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    null,\n    {forwardRef : true}\n)( scriptLoader(\n    ['/static/js/uploader/moxie.js'],\n    ['/static/js/uploader/plupload.dev.js'],\n    ['/static/js/uploader/i18n/zh_CN.js'], \n    ['/static/js/uploader/ui.js'],\n    ['/static/js/uploader/uploader.js'],\n\n)(UploaderCompoment))\n  \nexport default Uploader"],"sourceRoot":""}